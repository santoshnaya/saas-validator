"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/validate-idea-stream/route";
exports.ids = ["app/api/validate-idea-stream/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvalidate-idea-stream%2Froute&page=%2Fapi%2Fvalidate-idea-stream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvalidate-idea-stream%2Froute.ts&appDir=%2FUsers%2Fsantoshnayak%2FDesktop%2FCODE%2FCode%20Pro%2FSaaS%2Fsaas-idea-validator%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsantoshnayak%2FDesktop%2FCODE%2FCode%20Pro%2FSaaS%2Fsaas-idea-validator&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvalidate-idea-stream%2Froute&page=%2Fapi%2Fvalidate-idea-stream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvalidate-idea-stream%2Froute.ts&appDir=%2FUsers%2Fsantoshnayak%2FDesktop%2FCODE%2FCode%20Pro%2FSaaS%2Fsaas-idea-validator%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsantoshnayak%2FDesktop%2FCODE%2FCode%20Pro%2FSaaS%2Fsaas-idea-validator&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_santoshnayak_Desktop_CODE_Code_Pro_SaaS_saas_idea_validator_src_app_api_validate_idea_stream_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/validate-idea-stream/route.ts */ \"(rsc)/./src/app/api/validate-idea-stream/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/validate-idea-stream/route\",\n        pathname: \"/api/validate-idea-stream\",\n        filename: \"route\",\n        bundlePath: \"app/api/validate-idea-stream/route\"\n    },\n    resolvedPagePath: \"/Users/santoshnayak/Desktop/CODE/Code Pro/SaaS/saas-idea-validator/src/app/api/validate-idea-stream/route.ts\",\n    nextConfigOutput,\n    userland: _Users_santoshnayak_Desktop_CODE_Code_Pro_SaaS_saas_idea_validator_src_app_api_validate_idea_stream_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/validate-idea-stream/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2YWxpZGF0ZS1pZGVhLXN0cmVhbSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdmFsaWRhdGUtaWRlYS1zdHJlYW0lMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ2YWxpZGF0ZS1pZGVhLXN0cmVhbSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnNhbnRvc2huYXlhayUyRkRlc2t0b3AlMkZDT0RFJTJGQ29kZSUyMFBybyUyRlNhYVMlMkZzYWFzLWlkZWEtdmFsaWRhdG9yJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnNhbnRvc2huYXlhayUyRkRlc2t0b3AlMkZDT0RFJTJGQ29kZSUyMFBybyUyRlNhYVMlMkZzYWFzLWlkZWEtdmFsaWRhdG9yJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM0RDtBQUN6STtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3NhYXMtaWRlYS12YWxpZGF0b3IvPzVlNGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3NhbnRvc2huYXlhay9EZXNrdG9wL0NPREUvQ29kZSBQcm8vU2FhUy9zYWFzLWlkZWEtdmFsaWRhdG9yL3NyYy9hcHAvYXBpL3ZhbGlkYXRlLWlkZWEtc3RyZWFtL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS92YWxpZGF0ZS1pZGVhLXN0cmVhbS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3ZhbGlkYXRlLWlkZWEtc3RyZWFtXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS92YWxpZGF0ZS1pZGVhLXN0cmVhbS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9zYW50b3NobmF5YWsvRGVza3RvcC9DT0RFL0NvZGUgUHJvL1NhYVMvc2Fhcy1pZGVhLXZhbGlkYXRvci9zcmMvYXBwL2FwaS92YWxpZGF0ZS1pZGVhLXN0cmVhbS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdmFsaWRhdGUtaWRlYS1zdHJlYW0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvalidate-idea-stream%2Froute&page=%2Fapi%2Fvalidate-idea-stream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvalidate-idea-stream%2Froute.ts&appDir=%2FUsers%2Fsantoshnayak%2FDesktop%2FCODE%2FCode%20Pro%2FSaaS%2Fsaas-idea-validator%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsantoshnayak%2FDesktop%2FCODE%2FCode%20Pro%2FSaaS%2Fsaas-idea-validator&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/validate-idea-stream/route.ts":
/*!***************************************************!*\
  !*** ./src/app/api/validate-idea-stream/route.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_gemini__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/gemini */ \"(rsc)/./src/lib/gemini.ts\");\n\nasync function POST(request) {\n    try {\n        const { title, description, userId, bypassCredits } = await request.json();\n        if (!title || !description) {\n            return new Response(\"Title and description are required\", {\n                status: 400\n            });\n        }\n        // Create a readable stream for Server-Sent Events\n        const stream = new ReadableStream({\n            async start (controller) {\n                const encoder = new TextEncoder();\n                const sendUpdate = (data)=>{\n                    const chunk = encoder.encode(`data: ${JSON.stringify(data)}\\n\\n`);\n                    controller.enqueue(chunk);\n                };\n                try {\n                    const geminiService = new _lib_gemini__WEBPACK_IMPORTED_MODULE_0__.GeminiService();\n                    // Send initial progress\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Market Analysis\",\n                        progress: 0,\n                        status: \"starting\"\n                    });\n                    // Generate Market Analysis\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Market Analysis\",\n                        progress: 5,\n                        status: \"processing\"\n                    });\n                    const validationScore = await geminiService.generateValidationScore(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Market Analysis\",\n                        progress: 12,\n                        status: \"complete\",\n                        data: {\n                            validationScore\n                        }\n                    });\n                    // Brief delay to avoid rate limiting\n                    await new Promise((resolve)=>setTimeout(resolve, 1000));\n                    // Generate Improvement Suggestions\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Suggested Improvements\",\n                        progress: 12,\n                        status: \"processing\"\n                    });\n                    const improvementSuggestions = await geminiService.generateImprovementSuggestions(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Suggested Improvements\",\n                        progress: 24,\n                        status: \"complete\",\n                        data: {\n                            improvementSuggestions\n                        }\n                    });\n                    await new Promise((resolve)=>setTimeout(resolve, 1000));\n                    // Generate Core Features\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Core Features\",\n                        progress: 24,\n                        status: \"processing\"\n                    });\n                    const coreFeatures = await geminiService.generateCoreFeatures(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Core Features\",\n                        progress: 36,\n                        status: \"complete\",\n                        data: {\n                            coreFeatures\n                        }\n                    });\n                    await new Promise((resolve)=>setTimeout(resolve, 800));\n                    // Generate Tech Stack\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Technical Requirements\",\n                        progress: 36,\n                        status: \"processing\"\n                    });\n                    const techStack = await geminiService.generateTechStack(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Technical Requirements\",\n                        progress: 48,\n                        status: \"complete\",\n                        data: {\n                            techStack\n                        }\n                    });\n                    await new Promise((resolve)=>setTimeout(resolve, 800));\n                    // Generate Pricing Model\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Pricing Plans\",\n                        progress: 48,\n                        status: \"processing\"\n                    });\n                    const pricingModel = await geminiService.generatePricingModel(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Pricing Plans\",\n                        progress: 60,\n                        status: \"complete\",\n                        data: {\n                            pricingModel\n                        }\n                    });\n                    await new Promise((resolve)=>setTimeout(resolve, 800));\n                    // Generate User Flow\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"User Flow Mapping\",\n                        progress: 60,\n                        status: \"processing\"\n                    });\n                    const userFlow = await geminiService.generateUserFlow(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"User Flow Mapping\",\n                        progress: 70,\n                        status: \"complete\",\n                        data: {\n                            userFlow\n                        }\n                    });\n                    await new Promise((resolve)=>setTimeout(resolve, 800));\n                    // Generate MVP Kanban\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"MVP Kanban Board\",\n                        progress: 70,\n                        status: \"processing\"\n                    });\n                    const mvpKanban = await geminiService.generateMVPKanban(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"MVP Kanban Board\",\n                        progress: 80,\n                        status: \"complete\",\n                        data: {\n                            mvpKanban\n                        }\n                    });\n                    await new Promise((resolve)=>setTimeout(resolve, 800));\n                    // Generate Competitive Analysis\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Competitive Matrix\",\n                        progress: 80,\n                        status: \"processing\"\n                    });\n                    const competitiveAnalysis = await geminiService.generateCompetitiveAnalysis(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Competitive Matrix\",\n                        progress: 88,\n                        status: \"complete\",\n                        data: {\n                            competitiveAnalysis\n                        }\n                    });\n                    await new Promise((resolve)=>setTimeout(resolve, 800));\n                    // Generate Financial Modeling\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Financial Modeling\",\n                        progress: 88,\n                        status: \"processing\"\n                    });\n                    const financialModeling = await geminiService.generateFinancialModeling(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Financial Modeling\",\n                        progress: 94,\n                        status: \"complete\",\n                        data: {\n                            financialModeling\n                        }\n                    });\n                    await new Promise((resolve)=>setTimeout(resolve, 800));\n                    // Generate Launch Roadmap\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Launch Roadmap\",\n                        progress: 94,\n                        status: \"processing\"\n                    });\n                    const launchRoadmap = await geminiService.generateLaunchRoadmap(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Launch Roadmap\",\n                        progress: 98,\n                        status: \"complete\",\n                        data: {\n                            launchRoadmap\n                        }\n                    });\n                    await new Promise((resolve)=>setTimeout(resolve, 500));\n                    // Generate Similar Ideas\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Similar Ideas\",\n                        progress: 98,\n                        status: \"processing\"\n                    });\n                    const similarIdeas = await geminiService.generateSimilarIdeas(title, description);\n                    sendUpdate({\n                        type: \"progress\",\n                        step: \"Similar Ideas\",\n                        progress: 100,\n                        status: \"complete\",\n                        data: {\n                            similarIdeas\n                        }\n                    });\n                    // Send final complete analysis\n                    const completeAnalysis = {\n                        idea: {\n                            title,\n                            description\n                        },\n                        validationScore,\n                        improvementSuggestions,\n                        coreFeatures,\n                        techStack,\n                        pricingModel,\n                        userFlow,\n                        mvpKanban,\n                        competitiveAnalysis,\n                        financialModeling,\n                        launchRoadmap,\n                        similarIdeas\n                    };\n                    sendUpdate({\n                        type: \"complete\",\n                        progress: 100,\n                        analysis: completeAnalysis\n                    });\n                } catch (error) {\n                    console.error(\"Streaming error:\", error);\n                    sendUpdate({\n                        type: \"error\",\n                        error: error instanceof Error ? error.message : \"Analysis failed\"\n                    });\n                } finally{\n                    controller.close();\n                }\n            }\n        });\n        return new Response(stream, {\n            headers: {\n                \"Content-Type\": \"text/event-stream\",\n                \"Cache-Control\": \"no-cache\",\n                \"Connection\": \"keep-alive\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Stream setup error:\", error);\n        return new Response(\"Internal server error\", {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS92YWxpZGF0ZS1pZGVhLXN0cmVhbS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUM0QztBQUVyQyxlQUFlQyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLFdBQVcsRUFBRUMsTUFBTSxFQUFFQyxhQUFhLEVBQUUsR0FBRyxNQUFNSixRQUFRSyxJQUFJO1FBRXhFLElBQUksQ0FBQ0osU0FBUyxDQUFDQyxhQUFhO1lBQzFCLE9BQU8sSUFBSUksU0FBUyxzQ0FBc0M7Z0JBQUVDLFFBQVE7WUFBSTtRQUMxRTtRQUVBLGtEQUFrRDtRQUNsRCxNQUFNQyxTQUFTLElBQUlDLGVBQWU7WUFDaEMsTUFBTUMsT0FBTUMsVUFBVTtnQkFDcEIsTUFBTUMsVUFBVSxJQUFJQztnQkFFcEIsTUFBTUMsYUFBYSxDQUFDQztvQkFDbEIsTUFBTUMsUUFBUUosUUFBUUssTUFBTSxDQUFDLENBQUMsTUFBTSxFQUFFQyxLQUFLQyxTQUFTLENBQUNKLE1BQU0sSUFBSSxDQUFDO29CQUNoRUosV0FBV1MsT0FBTyxDQUFDSjtnQkFDckI7Z0JBRUEsSUFBSTtvQkFDRixNQUFNSyxnQkFBZ0IsSUFBSXZCLHNEQUFhQTtvQkFFdkMsd0JBQXdCO29CQUN4QmdCLFdBQVc7d0JBQUVRLE1BQU07d0JBQVlDLE1BQU07d0JBQW1CQyxVQUFVO3dCQUFHakIsUUFBUTtvQkFBVztvQkFFeEYsMkJBQTJCO29CQUMzQk8sV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBbUJDLFVBQVU7d0JBQUdqQixRQUFRO29CQUFhO29CQUMxRixNQUFNa0Isa0JBQWtCLE1BQU1KLGNBQWNLLHVCQUF1QixDQUFDekIsT0FBT0M7b0JBQzNFWSxXQUFXO3dCQUFFUSxNQUFNO3dCQUFZQyxNQUFNO3dCQUFtQkMsVUFBVTt3QkFBSWpCLFFBQVE7d0JBQVlRLE1BQU07NEJBQUVVO3dCQUFnQjtvQkFBRTtvQkFFcEgscUNBQXFDO29CQUNyQyxNQUFNLElBQUlFLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7b0JBRWpELG1DQUFtQztvQkFDbkNkLFdBQVc7d0JBQUVRLE1BQU07d0JBQVlDLE1BQU07d0JBQTBCQyxVQUFVO3dCQUFJakIsUUFBUTtvQkFBYTtvQkFDbEcsTUFBTXVCLHlCQUF5QixNQUFNVCxjQUFjVSw4QkFBOEIsQ0FBQzlCLE9BQU9DO29CQUN6RlksV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBMEJDLFVBQVU7d0JBQUlqQixRQUFRO3dCQUFZUSxNQUFNOzRCQUFFZTt3QkFBdUI7b0JBQUU7b0JBRWxJLE1BQU0sSUFBSUgsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztvQkFFakQseUJBQXlCO29CQUN6QmQsV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBaUJDLFVBQVU7d0JBQUlqQixRQUFRO29CQUFhO29CQUN6RixNQUFNeUIsZUFBZSxNQUFNWCxjQUFjWSxvQkFBb0IsQ0FBQ2hDLE9BQU9DO29CQUNyRVksV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBaUJDLFVBQVU7d0JBQUlqQixRQUFRO3dCQUFZUSxNQUFNOzRCQUFFaUI7d0JBQWE7b0JBQUU7b0JBRS9HLE1BQU0sSUFBSUwsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztvQkFFakQsc0JBQXNCO29CQUN0QmQsV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBMEJDLFVBQVU7d0JBQUlqQixRQUFRO29CQUFhO29CQUNsRyxNQUFNMkIsWUFBWSxNQUFNYixjQUFjYyxpQkFBaUIsQ0FBQ2xDLE9BQU9DO29CQUMvRFksV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBMEJDLFVBQVU7d0JBQUlqQixRQUFRO3dCQUFZUSxNQUFNOzRCQUFFbUI7d0JBQVU7b0JBQUU7b0JBRXJILE1BQU0sSUFBSVAsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztvQkFFakQseUJBQXlCO29CQUN6QmQsV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBaUJDLFVBQVU7d0JBQUlqQixRQUFRO29CQUFhO29CQUN6RixNQUFNNkIsZUFBZSxNQUFNZixjQUFjZ0Isb0JBQW9CLENBQUNwQyxPQUFPQztvQkFDckVZLFdBQVc7d0JBQUVRLE1BQU07d0JBQVlDLE1BQU07d0JBQWlCQyxVQUFVO3dCQUFJakIsUUFBUTt3QkFBWVEsTUFBTTs0QkFBRXFCO3dCQUFhO29CQUFFO29CQUUvRyxNQUFNLElBQUlULFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7b0JBRWpELHFCQUFxQjtvQkFDckJkLFdBQVc7d0JBQUVRLE1BQU07d0JBQVlDLE1BQU07d0JBQXFCQyxVQUFVO3dCQUFJakIsUUFBUTtvQkFBYTtvQkFDN0YsTUFBTStCLFdBQVcsTUFBTWpCLGNBQWNrQixnQkFBZ0IsQ0FBQ3RDLE9BQU9DO29CQUM3RFksV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBcUJDLFVBQVU7d0JBQUlqQixRQUFRO3dCQUFZUSxNQUFNOzRCQUFFdUI7d0JBQVM7b0JBQUU7b0JBRS9HLE1BQU0sSUFBSVgsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztvQkFFakQsc0JBQXNCO29CQUN0QmQsV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBb0JDLFVBQVU7d0JBQUlqQixRQUFRO29CQUFhO29CQUM1RixNQUFNaUMsWUFBWSxNQUFNbkIsY0FBY29CLGlCQUFpQixDQUFDeEMsT0FBT0M7b0JBQy9EWSxXQUFXO3dCQUFFUSxNQUFNO3dCQUFZQyxNQUFNO3dCQUFvQkMsVUFBVTt3QkFBSWpCLFFBQVE7d0JBQVlRLE1BQU07NEJBQUV5Qjt3QkFBVTtvQkFBRTtvQkFFL0csTUFBTSxJQUFJYixRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTO29CQUVqRCxnQ0FBZ0M7b0JBQ2hDZCxXQUFXO3dCQUFFUSxNQUFNO3dCQUFZQyxNQUFNO3dCQUFzQkMsVUFBVTt3QkFBSWpCLFFBQVE7b0JBQWE7b0JBQzlGLE1BQU1tQyxzQkFBc0IsTUFBTXJCLGNBQWNzQiwyQkFBMkIsQ0FBQzFDLE9BQU9DO29CQUNuRlksV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBc0JDLFVBQVU7d0JBQUlqQixRQUFRO3dCQUFZUSxNQUFNOzRCQUFFMkI7d0JBQW9CO29CQUFFO29CQUUzSCxNQUFNLElBQUlmLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7b0JBRWpELDhCQUE4QjtvQkFDOUJkLFdBQVc7d0JBQUVRLE1BQU07d0JBQVlDLE1BQU07d0JBQXNCQyxVQUFVO3dCQUFJakIsUUFBUTtvQkFBYTtvQkFDOUYsTUFBTXFDLG9CQUFvQixNQUFNdkIsY0FBY3dCLHlCQUF5QixDQUFDNUMsT0FBT0M7b0JBQy9FWSxXQUFXO3dCQUFFUSxNQUFNO3dCQUFZQyxNQUFNO3dCQUFzQkMsVUFBVTt3QkFBSWpCLFFBQVE7d0JBQVlRLE1BQU07NEJBQUU2Qjt3QkFBa0I7b0JBQUU7b0JBRXpILE1BQU0sSUFBSWpCLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7b0JBRWpELDBCQUEwQjtvQkFDMUJkLFdBQVc7d0JBQUVRLE1BQU07d0JBQVlDLE1BQU07d0JBQWtCQyxVQUFVO3dCQUFJakIsUUFBUTtvQkFBYTtvQkFDMUYsTUFBTXVDLGdCQUFnQixNQUFNekIsY0FBYzBCLHFCQUFxQixDQUFDOUMsT0FBT0M7b0JBQ3ZFWSxXQUFXO3dCQUFFUSxNQUFNO3dCQUFZQyxNQUFNO3dCQUFrQkMsVUFBVTt3QkFBSWpCLFFBQVE7d0JBQVlRLE1BQU07NEJBQUUrQjt3QkFBYztvQkFBRTtvQkFFakgsTUFBTSxJQUFJbkIsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztvQkFFakQseUJBQXlCO29CQUN6QmQsV0FBVzt3QkFBRVEsTUFBTTt3QkFBWUMsTUFBTTt3QkFBaUJDLFVBQVU7d0JBQUlqQixRQUFRO29CQUFhO29CQUN6RixNQUFNeUMsZUFBZSxNQUFNM0IsY0FBYzRCLG9CQUFvQixDQUFDaEQsT0FBT0M7b0JBQ3JFWSxXQUFXO3dCQUFFUSxNQUFNO3dCQUFZQyxNQUFNO3dCQUFpQkMsVUFBVTt3QkFBS2pCLFFBQVE7d0JBQVlRLE1BQU07NEJBQUVpQzt3QkFBYTtvQkFBRTtvQkFFaEgsK0JBQStCO29CQUMvQixNQUFNRSxtQkFBbUI7d0JBQ3ZCQyxNQUFNOzRCQUFFbEQ7NEJBQU9DO3dCQUFZO3dCQUMzQnVCO3dCQUNBSzt3QkFDQUU7d0JBQ0FFO3dCQUNBRTt3QkFDQUU7d0JBQ0FFO3dCQUNBRTt3QkFDQUU7d0JBQ0FFO3dCQUNBRTtvQkFDRjtvQkFFQWxDLFdBQVc7d0JBQ1RRLE1BQU07d0JBQ05FLFVBQVU7d0JBQ1Y0QixVQUFVRjtvQkFDWjtnQkFFRixFQUFFLE9BQU9HLE9BQU87b0JBQ2RDLFFBQVFELEtBQUssQ0FBQyxvQkFBb0JBO29CQUNsQ3ZDLFdBQVc7d0JBQ1RRLE1BQU07d0JBQ04rQixPQUFPQSxpQkFBaUJFLFFBQVFGLE1BQU1HLE9BQU8sR0FBRztvQkFDbEQ7Z0JBQ0YsU0FBVTtvQkFDUjdDLFdBQVc4QyxLQUFLO2dCQUNsQjtZQUNGO1FBQ0Y7UUFFQSxPQUFPLElBQUluRCxTQUFTRSxRQUFRO1lBQzFCa0QsU0FBUztnQkFDUCxnQkFBZ0I7Z0JBQ2hCLGlCQUFpQjtnQkFDakIsY0FBYztZQUNoQjtRQUNGO0lBRUYsRUFBRSxPQUFPTCxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx1QkFBdUJBO1FBQ3JDLE9BQU8sSUFBSS9DLFNBQVMseUJBQXlCO1lBQUVDLFFBQVE7UUFBSTtJQUM3RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Fhcy1pZGVhLXZhbGlkYXRvci8uL3NyYy9hcHAvYXBpL3ZhbGlkYXRlLWlkZWEtc3RyZWFtL3JvdXRlLnRzP2E3MTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IEdlbWluaVNlcnZpY2UgfSBmcm9tICdAL2xpYi9nZW1pbmknXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIHVzZXJJZCwgYnlwYXNzQ3JlZGl0cyB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIGlmICghdGl0bGUgfHwgIWRlc2NyaXB0aW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKCdUaXRsZSBhbmQgZGVzY3JpcHRpb24gYXJlIHJlcXVpcmVkJywgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhIHJlYWRhYmxlIHN0cmVhbSBmb3IgU2VydmVyLVNlbnQgRXZlbnRzXG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpXG4gICAgICAgIFxuICAgICAgICBjb25zdCBzZW5kVXBkYXRlID0gKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNodW5rID0gZW5jb2Rlci5lbmNvZGUoYGRhdGE6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9XFxuXFxuYClcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspXG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGdlbWluaVNlcnZpY2UgPSBuZXcgR2VtaW5pU2VydmljZSgpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2VuZCBpbml0aWFsIHByb2dyZXNzXG4gICAgICAgICAgc2VuZFVwZGF0ZSh7IHR5cGU6ICdwcm9ncmVzcycsIHN0ZXA6ICdNYXJrZXQgQW5hbHlzaXMnLCBwcm9ncmVzczogMCwgc3RhdHVzOiAnc3RhcnRpbmcnIH0pXG5cbiAgICAgICAgICAvLyBHZW5lcmF0ZSBNYXJrZXQgQW5hbHlzaXNcbiAgICAgICAgICBzZW5kVXBkYXRlKHsgdHlwZTogJ3Byb2dyZXNzJywgc3RlcDogJ01hcmtldCBBbmFseXNpcycsIHByb2dyZXNzOiA1LCBzdGF0dXM6ICdwcm9jZXNzaW5nJyB9KVxuICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25TY29yZSA9IGF3YWl0IGdlbWluaVNlcnZpY2UuZ2VuZXJhdGVWYWxpZGF0aW9uU2NvcmUodGl0bGUsIGRlc2NyaXB0aW9uKVxuICAgICAgICAgIHNlbmRVcGRhdGUoeyB0eXBlOiAncHJvZ3Jlc3MnLCBzdGVwOiAnTWFya2V0IEFuYWx5c2lzJywgcHJvZ3Jlc3M6IDEyLCBzdGF0dXM6ICdjb21wbGV0ZScsIGRhdGE6IHsgdmFsaWRhdGlvblNjb3JlIH0gfSlcblxuICAgICAgICAgIC8vIEJyaWVmIGRlbGF5IHRvIGF2b2lkIHJhdGUgbGltaXRpbmdcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpXG5cbiAgICAgICAgICAvLyBHZW5lcmF0ZSBJbXByb3ZlbWVudCBTdWdnZXN0aW9uc1xuICAgICAgICAgIHNlbmRVcGRhdGUoeyB0eXBlOiAncHJvZ3Jlc3MnLCBzdGVwOiAnU3VnZ2VzdGVkIEltcHJvdmVtZW50cycsIHByb2dyZXNzOiAxMiwgc3RhdHVzOiAncHJvY2Vzc2luZycgfSlcbiAgICAgICAgICBjb25zdCBpbXByb3ZlbWVudFN1Z2dlc3Rpb25zID0gYXdhaXQgZ2VtaW5pU2VydmljZS5nZW5lcmF0ZUltcHJvdmVtZW50U3VnZ2VzdGlvbnModGl0bGUsIGRlc2NyaXB0aW9uKVxuICAgICAgICAgIHNlbmRVcGRhdGUoeyB0eXBlOiAncHJvZ3Jlc3MnLCBzdGVwOiAnU3VnZ2VzdGVkIEltcHJvdmVtZW50cycsIHByb2dyZXNzOiAyNCwgc3RhdHVzOiAnY29tcGxldGUnLCBkYXRhOiB7IGltcHJvdmVtZW50U3VnZ2VzdGlvbnMgfSB9KVxuXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKVxuXG4gICAgICAgICAgLy8gR2VuZXJhdGUgQ29yZSBGZWF0dXJlc1xuICAgICAgICAgIHNlbmRVcGRhdGUoeyB0eXBlOiAncHJvZ3Jlc3MnLCBzdGVwOiAnQ29yZSBGZWF0dXJlcycsIHByb2dyZXNzOiAyNCwgc3RhdHVzOiAncHJvY2Vzc2luZycgfSlcbiAgICAgICAgICBjb25zdCBjb3JlRmVhdHVyZXMgPSBhd2FpdCBnZW1pbmlTZXJ2aWNlLmdlbmVyYXRlQ29yZUZlYXR1cmVzKHRpdGxlLCBkZXNjcmlwdGlvbilcbiAgICAgICAgICBzZW5kVXBkYXRlKHsgdHlwZTogJ3Byb2dyZXNzJywgc3RlcDogJ0NvcmUgRmVhdHVyZXMnLCBwcm9ncmVzczogMzYsIHN0YXR1czogJ2NvbXBsZXRlJywgZGF0YTogeyBjb3JlRmVhdHVyZXMgfSB9KVxuXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDgwMCkpXG5cbiAgICAgICAgICAvLyBHZW5lcmF0ZSBUZWNoIFN0YWNrXG4gICAgICAgICAgc2VuZFVwZGF0ZSh7IHR5cGU6ICdwcm9ncmVzcycsIHN0ZXA6ICdUZWNobmljYWwgUmVxdWlyZW1lbnRzJywgcHJvZ3Jlc3M6IDM2LCBzdGF0dXM6ICdwcm9jZXNzaW5nJyB9KVxuICAgICAgICAgIGNvbnN0IHRlY2hTdGFjayA9IGF3YWl0IGdlbWluaVNlcnZpY2UuZ2VuZXJhdGVUZWNoU3RhY2sodGl0bGUsIGRlc2NyaXB0aW9uKVxuICAgICAgICAgIHNlbmRVcGRhdGUoeyB0eXBlOiAncHJvZ3Jlc3MnLCBzdGVwOiAnVGVjaG5pY2FsIFJlcXVpcmVtZW50cycsIHByb2dyZXNzOiA0OCwgc3RhdHVzOiAnY29tcGxldGUnLCBkYXRhOiB7IHRlY2hTdGFjayB9IH0pXG5cbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgODAwKSlcblxuICAgICAgICAgIC8vIEdlbmVyYXRlIFByaWNpbmcgTW9kZWxcbiAgICAgICAgICBzZW5kVXBkYXRlKHsgdHlwZTogJ3Byb2dyZXNzJywgc3RlcDogJ1ByaWNpbmcgUGxhbnMnLCBwcm9ncmVzczogNDgsIHN0YXR1czogJ3Byb2Nlc3NpbmcnIH0pXG4gICAgICAgICAgY29uc3QgcHJpY2luZ01vZGVsID0gYXdhaXQgZ2VtaW5pU2VydmljZS5nZW5lcmF0ZVByaWNpbmdNb2RlbCh0aXRsZSwgZGVzY3JpcHRpb24pXG4gICAgICAgICAgc2VuZFVwZGF0ZSh7IHR5cGU6ICdwcm9ncmVzcycsIHN0ZXA6ICdQcmljaW5nIFBsYW5zJywgcHJvZ3Jlc3M6IDYwLCBzdGF0dXM6ICdjb21wbGV0ZScsIGRhdGE6IHsgcHJpY2luZ01vZGVsIH0gfSlcblxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKVxuXG4gICAgICAgICAgLy8gR2VuZXJhdGUgVXNlciBGbG93XG4gICAgICAgICAgc2VuZFVwZGF0ZSh7IHR5cGU6ICdwcm9ncmVzcycsIHN0ZXA6ICdVc2VyIEZsb3cgTWFwcGluZycsIHByb2dyZXNzOiA2MCwgc3RhdHVzOiAncHJvY2Vzc2luZycgfSlcbiAgICAgICAgICBjb25zdCB1c2VyRmxvdyA9IGF3YWl0IGdlbWluaVNlcnZpY2UuZ2VuZXJhdGVVc2VyRmxvdyh0aXRsZSwgZGVzY3JpcHRpb24pXG4gICAgICAgICAgc2VuZFVwZGF0ZSh7IHR5cGU6ICdwcm9ncmVzcycsIHN0ZXA6ICdVc2VyIEZsb3cgTWFwcGluZycsIHByb2dyZXNzOiA3MCwgc3RhdHVzOiAnY29tcGxldGUnLCBkYXRhOiB7IHVzZXJGbG93IH0gfSlcblxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKVxuXG4gICAgICAgICAgLy8gR2VuZXJhdGUgTVZQIEthbmJhblxuICAgICAgICAgIHNlbmRVcGRhdGUoeyB0eXBlOiAncHJvZ3Jlc3MnLCBzdGVwOiAnTVZQIEthbmJhbiBCb2FyZCcsIHByb2dyZXNzOiA3MCwgc3RhdHVzOiAncHJvY2Vzc2luZycgfSlcbiAgICAgICAgICBjb25zdCBtdnBLYW5iYW4gPSBhd2FpdCBnZW1pbmlTZXJ2aWNlLmdlbmVyYXRlTVZQS2FuYmFuKHRpdGxlLCBkZXNjcmlwdGlvbilcbiAgICAgICAgICBzZW5kVXBkYXRlKHsgdHlwZTogJ3Byb2dyZXNzJywgc3RlcDogJ01WUCBLYW5iYW4gQm9hcmQnLCBwcm9ncmVzczogODAsIHN0YXR1czogJ2NvbXBsZXRlJywgZGF0YTogeyBtdnBLYW5iYW4gfSB9KVxuXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDgwMCkpXG5cbiAgICAgICAgICAvLyBHZW5lcmF0ZSBDb21wZXRpdGl2ZSBBbmFseXNpc1xuICAgICAgICAgIHNlbmRVcGRhdGUoeyB0eXBlOiAncHJvZ3Jlc3MnLCBzdGVwOiAnQ29tcGV0aXRpdmUgTWF0cml4JywgcHJvZ3Jlc3M6IDgwLCBzdGF0dXM6ICdwcm9jZXNzaW5nJyB9KVxuICAgICAgICAgIGNvbnN0IGNvbXBldGl0aXZlQW5hbHlzaXMgPSBhd2FpdCBnZW1pbmlTZXJ2aWNlLmdlbmVyYXRlQ29tcGV0aXRpdmVBbmFseXNpcyh0aXRsZSwgZGVzY3JpcHRpb24pXG4gICAgICAgICAgc2VuZFVwZGF0ZSh7IHR5cGU6ICdwcm9ncmVzcycsIHN0ZXA6ICdDb21wZXRpdGl2ZSBNYXRyaXgnLCBwcm9ncmVzczogODgsIHN0YXR1czogJ2NvbXBsZXRlJywgZGF0YTogeyBjb21wZXRpdGl2ZUFuYWx5c2lzIH0gfSlcblxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKVxuXG4gICAgICAgICAgLy8gR2VuZXJhdGUgRmluYW5jaWFsIE1vZGVsaW5nXG4gICAgICAgICAgc2VuZFVwZGF0ZSh7IHR5cGU6ICdwcm9ncmVzcycsIHN0ZXA6ICdGaW5hbmNpYWwgTW9kZWxpbmcnLCBwcm9ncmVzczogODgsIHN0YXR1czogJ3Byb2Nlc3NpbmcnIH0pXG4gICAgICAgICAgY29uc3QgZmluYW5jaWFsTW9kZWxpbmcgPSBhd2FpdCBnZW1pbmlTZXJ2aWNlLmdlbmVyYXRlRmluYW5jaWFsTW9kZWxpbmcodGl0bGUsIGRlc2NyaXB0aW9uKVxuICAgICAgICAgIHNlbmRVcGRhdGUoeyB0eXBlOiAncHJvZ3Jlc3MnLCBzdGVwOiAnRmluYW5jaWFsIE1vZGVsaW5nJywgcHJvZ3Jlc3M6IDk0LCBzdGF0dXM6ICdjb21wbGV0ZScsIGRhdGE6IHsgZmluYW5jaWFsTW9kZWxpbmcgfSB9KVxuXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDgwMCkpXG5cbiAgICAgICAgICAvLyBHZW5lcmF0ZSBMYXVuY2ggUm9hZG1hcFxuICAgICAgICAgIHNlbmRVcGRhdGUoeyB0eXBlOiAncHJvZ3Jlc3MnLCBzdGVwOiAnTGF1bmNoIFJvYWRtYXAnLCBwcm9ncmVzczogOTQsIHN0YXR1czogJ3Byb2Nlc3NpbmcnIH0pXG4gICAgICAgICAgY29uc3QgbGF1bmNoUm9hZG1hcCA9IGF3YWl0IGdlbWluaVNlcnZpY2UuZ2VuZXJhdGVMYXVuY2hSb2FkbWFwKHRpdGxlLCBkZXNjcmlwdGlvbilcbiAgICAgICAgICBzZW5kVXBkYXRlKHsgdHlwZTogJ3Byb2dyZXNzJywgc3RlcDogJ0xhdW5jaCBSb2FkbWFwJywgcHJvZ3Jlc3M6IDk4LCBzdGF0dXM6ICdjb21wbGV0ZScsIGRhdGE6IHsgbGF1bmNoUm9hZG1hcCB9IH0pXG5cbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSlcblxuICAgICAgICAgIC8vIEdlbmVyYXRlIFNpbWlsYXIgSWRlYXNcbiAgICAgICAgICBzZW5kVXBkYXRlKHsgdHlwZTogJ3Byb2dyZXNzJywgc3RlcDogJ1NpbWlsYXIgSWRlYXMnLCBwcm9ncmVzczogOTgsIHN0YXR1czogJ3Byb2Nlc3NpbmcnIH0pXG4gICAgICAgICAgY29uc3Qgc2ltaWxhcklkZWFzID0gYXdhaXQgZ2VtaW5pU2VydmljZS5nZW5lcmF0ZVNpbWlsYXJJZGVhcyh0aXRsZSwgZGVzY3JpcHRpb24pXG4gICAgICAgICAgc2VuZFVwZGF0ZSh7IHR5cGU6ICdwcm9ncmVzcycsIHN0ZXA6ICdTaW1pbGFyIElkZWFzJywgcHJvZ3Jlc3M6IDEwMCwgc3RhdHVzOiAnY29tcGxldGUnLCBkYXRhOiB7IHNpbWlsYXJJZGVhcyB9IH0pXG5cbiAgICAgICAgICAvLyBTZW5kIGZpbmFsIGNvbXBsZXRlIGFuYWx5c2lzXG4gICAgICAgICAgY29uc3QgY29tcGxldGVBbmFseXNpcyA9IHtcbiAgICAgICAgICAgIGlkZWE6IHsgdGl0bGUsIGRlc2NyaXB0aW9uIH0sXG4gICAgICAgICAgICB2YWxpZGF0aW9uU2NvcmUsXG4gICAgICAgICAgICBpbXByb3ZlbWVudFN1Z2dlc3Rpb25zLFxuICAgICAgICAgICAgY29yZUZlYXR1cmVzLFxuICAgICAgICAgICAgdGVjaFN0YWNrLFxuICAgICAgICAgICAgcHJpY2luZ01vZGVsLFxuICAgICAgICAgICAgdXNlckZsb3csXG4gICAgICAgICAgICBtdnBLYW5iYW4sXG4gICAgICAgICAgICBjb21wZXRpdGl2ZUFuYWx5c2lzLFxuICAgICAgICAgICAgZmluYW5jaWFsTW9kZWxpbmcsXG4gICAgICAgICAgICBsYXVuY2hSb2FkbWFwLFxuICAgICAgICAgICAgc2ltaWxhcklkZWFzLFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbmRVcGRhdGUoeyBcbiAgICAgICAgICAgIHR5cGU6ICdjb21wbGV0ZScsIFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IDEwMCwgXG4gICAgICAgICAgICBhbmFseXNpczogY29tcGxldGVBbmFseXNpcyBcbiAgICAgICAgICB9KVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignU3RyZWFtaW5nIGVycm9yOicsIGVycm9yKVxuICAgICAgICAgIHNlbmRVcGRhdGUoeyBcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsIFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0FuYWx5c2lzIGZhaWxlZCcgXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHN0cmVhbSwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvZXZlbnQtc3RyZWFtJyxcbiAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAnQ29ubmVjdGlvbic6ICdrZWVwLWFsaXZlJyxcbiAgICAgIH0sXG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1N0cmVhbSBzZXR1cCBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKCdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cblxuLy8gQWRkIHRoZSBtaXNzaW5nIG1ldGhvZHMgdG8gR2VtaW5pU2VydmljZVxuZGVjbGFyZSBtb2R1bGUgJ0AvbGliL2dlbWluaScge1xuICBpbnRlcmZhY2UgR2VtaW5pU2VydmljZSB7XG4gICAgZ2VuZXJhdGVWYWxpZGF0aW9uU2NvcmUodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8YW55PlxuICAgIGdlbmVyYXRlSW1wcm92ZW1lbnRTdWdnZXN0aW9ucyh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT5cbiAgICBnZW5lcmF0ZUNvcmVGZWF0dXJlcyh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT5cbiAgICBnZW5lcmF0ZVRlY2hTdGFjayh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT5cbiAgICBnZW5lcmF0ZVByaWNpbmdNb2RlbCh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxhbnlbXT5cbiAgICBnZW5lcmF0ZVVzZXJGbG93KHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ1tdPlxuICAgIGdlbmVyYXRlTVZQS2FuYmFuKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBQcm9taXNlPGFueT5cbiAgICBnZW5lcmF0ZUNvbXBldGl0aXZlQW5hbHlzaXModGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8YW55PlxuICAgIGdlbmVyYXRlRmluYW5jaWFsTW9kZWxpbmcodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8YW55PlxuICAgIGdlbmVyYXRlTGF1bmNoUm9hZG1hcCh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxhbnk+XG4gICAgZ2VuZXJhdGVTaW1pbGFySWRlYXModGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8YW55W10+XG4gIH1cbn0gIl0sIm5hbWVzIjpbIkdlbWluaVNlcnZpY2UiLCJQT1NUIiwicmVxdWVzdCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ1c2VySWQiLCJieXBhc3NDcmVkaXRzIiwianNvbiIsIlJlc3BvbnNlIiwic3RhdHVzIiwic3RyZWFtIiwiUmVhZGFibGVTdHJlYW0iLCJzdGFydCIsImNvbnRyb2xsZXIiLCJlbmNvZGVyIiwiVGV4dEVuY29kZXIiLCJzZW5kVXBkYXRlIiwiZGF0YSIsImNodW5rIiwiZW5jb2RlIiwiSlNPTiIsInN0cmluZ2lmeSIsImVucXVldWUiLCJnZW1pbmlTZXJ2aWNlIiwidHlwZSIsInN0ZXAiLCJwcm9ncmVzcyIsInZhbGlkYXRpb25TY29yZSIsImdlbmVyYXRlVmFsaWRhdGlvblNjb3JlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiaW1wcm92ZW1lbnRTdWdnZXN0aW9ucyIsImdlbmVyYXRlSW1wcm92ZW1lbnRTdWdnZXN0aW9ucyIsImNvcmVGZWF0dXJlcyIsImdlbmVyYXRlQ29yZUZlYXR1cmVzIiwidGVjaFN0YWNrIiwiZ2VuZXJhdGVUZWNoU3RhY2siLCJwcmljaW5nTW9kZWwiLCJnZW5lcmF0ZVByaWNpbmdNb2RlbCIsInVzZXJGbG93IiwiZ2VuZXJhdGVVc2VyRmxvdyIsIm12cEthbmJhbiIsImdlbmVyYXRlTVZQS2FuYmFuIiwiY29tcGV0aXRpdmVBbmFseXNpcyIsImdlbmVyYXRlQ29tcGV0aXRpdmVBbmFseXNpcyIsImZpbmFuY2lhbE1vZGVsaW5nIiwiZ2VuZXJhdGVGaW5hbmNpYWxNb2RlbGluZyIsImxhdW5jaFJvYWRtYXAiLCJnZW5lcmF0ZUxhdW5jaFJvYWRtYXAiLCJzaW1pbGFySWRlYXMiLCJnZW5lcmF0ZVNpbWlsYXJJZGVhcyIsImNvbXBsZXRlQW5hbHlzaXMiLCJpZGVhIiwiYW5hbHlzaXMiLCJlcnJvciIsImNvbnNvbGUiLCJFcnJvciIsIm1lc3NhZ2UiLCJjbG9zZSIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/validate-idea-stream/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/gemini.ts":
/*!***************************!*\
  !*** ./src/lib/gemini.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeminiService: () => (/* binding */ GeminiService)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\nconst apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY || \"AIzaSyA1zrFlq1Y2XoorT3NuUvbf4tqHAH9oXdA\";\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(apiKey);\nclass GeminiService {\n    async retryWithExponentialBackoff(operation, maxRetries = 3, baseDelay = 1000, maxDelay = 10000) {\n        for(let attempt = 0; attempt < maxRetries; attempt++){\n            try {\n                return await operation();\n            } catch (error) {\n                const isLastAttempt = attempt === maxRetries - 1;\n                const is503Error = error.message?.includes(\"503\") || error.message?.includes(\"overloaded\");\n                const is429Error = error.message?.includes(\"429\") || error.message?.includes(\"quota\");\n                console.log(`Attempt ${attempt + 1} failed:`, error.message);\n                if (isLastAttempt || !is503Error && !is429Error) {\n                    throw error;\n                }\n                // Calculate delay with exponential backoff and jitter\n                const delay = Math.min(baseDelay * Math.pow(2, attempt) + Math.random() * 1000, maxDelay);\n                console.log(`Retrying in ${delay}ms...`);\n                await new Promise((resolve)=>setTimeout(resolve, delay));\n            }\n        }\n        throw new Error(\"Max retries exceeded\");\n    }\n    async generateWithFallback(prompt, useCompactPrompt = false) {\n        const compactPrompt = useCompactPrompt ? prompt.substring(0, 1000) + \"...\" : prompt;\n        try {\n            // Try primary model first\n            const result = await this.retryWithExponentialBackoff(async ()=>{\n                const response = await this.model.generateContent(useCompactPrompt ? compactPrompt : prompt);\n                return response.response.text();\n            });\n            return result;\n        } catch (primaryError) {\n            console.log(\"Primary model failed, trying fallback model:\", primaryError.message);\n            try {\n                // Try fallback model with shorter prompt\n                const result = await this.retryWithExponentialBackoff(async ()=>{\n                    const response = await this.fallbackModel.generateContent(compactPrompt);\n                    return response.response.text();\n                }, 2, 2000);\n                return result;\n            } catch (fallbackError) {\n                console.log(\"Fallback model also failed:\", fallbackError.message);\n                throw new Error(`Both primary and fallback models failed. Primary: ${primaryError.message}, Fallback: ${fallbackError.message}`);\n            }\n        }\n    }\n    parseAIResponse(text, fallback) {\n        try {\n            // Remove code blocks and extra formatting\n            let cleanedText = text.replace(/```json\\n?|\\n?```/g, \"\").replace(/```\\n?|\\n?```/g, \"\").replace(/^[^{[]*/g, \"\") // Remove anything before first { or [\n            .replace(/[^}\\]]*$/g, \"\") // Remove anything after last } or ]\n            .trim();\n            // Try to find the JSON object/array in the text - improved regex\n            const jsonMatch = cleanedText.match(/(\\{(?:[^{}]|(?:\\{[^{}]*\\})*)*\\}|\\[(?:[^\\[\\]]|(?:\\[[^\\[\\]]*\\])*)*\\])/);\n            if (jsonMatch) {\n                cleanedText = jsonMatch[1];\n            }\n            // Additional cleanup - remove trailing text after closing brace/bracket\n            const lines = cleanedText.split(\"\\n\");\n            let jsonEndIndex = -1;\n            let braceCount = 0;\n            let bracketCount = 0;\n            for(let i = 0; i < lines.length; i++){\n                const line = lines[i];\n                for(let j = 0; j < line.length; j++){\n                    const char = line[j];\n                    if (char === \"{\") braceCount++;\n                    if (char === \"}\") braceCount--;\n                    if (char === \"[\") bracketCount++;\n                    if (char === \"]\") bracketCount--;\n                    if (braceCount === 0 && bracketCount === 0 && (char === \"}\" || char === \"]\")) {\n                        jsonEndIndex = i;\n                        cleanedText = lines.slice(0, i + 1).join(\"\\n\");\n                        break;\n                    }\n                }\n                if (jsonEndIndex !== -1) break;\n            }\n            return JSON.parse(cleanedText);\n        } catch (error) {\n            console.log(\"JSON parsing error:\", error);\n            console.log(\"Raw AI response:\", text.substring(0, 500) + \"...\");\n            console.log(\"Cleaned text:\", text.replace(/```json\\n?|\\n?```/g, \"\").trim().substring(0, 200) + \"...\");\n            return fallback;\n        }\n    }\n    async generateSaaSAnalysis(title, description) {\n        try {\n            console.log(\"Starting SaaS analysis generation for:\", title);\n            const validationScore = await this.generateValidationScore(title, description);\n            console.log(\"✅ Validation score generated\");\n            const improvementSuggestions = await this.generateImprovementSuggestions(title, description);\n            console.log(\"✅ Improvement suggestions generated\");\n            const coreFeatures = await this.generateCoreFeatures(title, description);\n            console.log(\"✅ Core features generated\");\n            const techStack = await this.generateTechStack(title, description);\n            console.log(\"✅ Tech stack generated\");\n            const pricingModel = await this.generatePricingModel(title, description);\n            console.log(\"✅ Pricing model generated\");\n            const userFlow = await this.generateUserFlow(title, description);\n            console.log(\"✅ User flow generated\");\n            const mvpKanban = await this.generateMVPKanban(title, description);\n            console.log(\"✅ MVP Kanban generated\");\n            const competitiveAnalysis = await this.generateCompetitiveAnalysis(title, description);\n            console.log(\"✅ Competitive analysis generated\");\n            const financialModeling = await this.generateFinancialModeling(title, description);\n            console.log(\"✅ Financial modeling generated\");\n            const launchRoadmap = await this.generateLaunchRoadmap(title, description);\n            console.log(\"✅ Launch roadmap generated\");\n            const similarIdeas = await this.generateSimilarIdeas(title, description);\n            console.log(\"✅ Similar ideas generated\");\n            return {\n                idea: {\n                    title,\n                    description\n                },\n                validationScore,\n                improvementSuggestions,\n                coreFeatures,\n                techStack,\n                pricingModel,\n                userFlow,\n                mvpKanban,\n                competitiveAnalysis,\n                financialModeling,\n                launchRoadmap,\n                similarIdeas\n            };\n        } catch (error) {\n            console.error(\"Error generating SaaS analysis:\", error);\n            console.error(\"Error details:\", {\n                name: error instanceof Error ? error.name : \"Unknown\",\n                message: error instanceof Error ? error.message : String(error),\n                stack: error instanceof Error ? error.stack : undefined\n            });\n            throw new Error(`Failed to generate analysis: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        }\n    }\n    async generateValidationScore(title, description) {\n        const prompt = `\n      Analyze this SaaS idea and provide validation scores (0-10) for each category:\n      Title: ${title}\n      Description: ${description}\n\n      Return a JSON object with these exact fields:\n      {\n        \"marketPotential\": number,\n        \"technicalFeasibility\": number,\n        \"competitionLevel\": number,\n        \"revenuePotential\": number,\n        \"resourceRequirements\": number,\n        \"uniqueValueProposition\": number,\n        \"overallScore\": number\n      }\n\n      Base the overall score on the average of all categories.\n    `;\n        const text = await this.generateWithFallback(prompt);\n        return this.parseAIResponse(text, {\n            marketPotential: 7,\n            technicalFeasibility: 8,\n            competitionLevel: 6,\n            revenuePotential: 7,\n            resourceRequirements: 6,\n            uniqueValueProposition: 8,\n            overallScore: 7.0\n        });\n    }\n    async generateImprovementSuggestions(title, description) {\n        const prompt = `\n      Analyze this SaaS idea and provide 8-12 specific, detailed improvement suggestions:\n      Title: ${title}\n      Description: ${description}\n\n      Generate comprehensive improvement suggestions that are:\n      - Specifically tailored to ${title} and its target market\n      - Directly address opportunities within: ${description}\n      - Actionable with clear implementation value\n      - Cover multiple business aspects: market positioning, product features, user experience, monetization, technology, competition, partnerships\n\n      IMPORTANT: Return a JSON array of strings only. Do NOT use objects with categories.\n      \n      Example format:\n      [\n        \"Develop industry-specific versions of ${title} tailored for healthcare to address HIPAA compliance and clinical workflow requirements\",\n        \"Implement advanced AI-powered predictive analytics within ${title} to provide forecasting capabilities that competitors currently lack\",\n        \"Create a comprehensive onboarding experience for ${title} with interactive tutorials and progressive feature discovery over 7 days\"\n      ]\n\n      Each suggestion should be 15-30 words and cover these categories:\n      - Market Positioning & Differentiation (2-3 suggestions)\n      - Product Features & Functionality (2-3 suggestions) \n      - User Experience & Interface (2 suggestions)\n      - Business Model & Monetization (2 suggestions)\n      - Technology & Performance (1-2 suggestions)\n      - Strategic Partnerships & Integrations (1-2 suggestions)\n\n      Return ONLY a JSON array of strings, not objects. Each string should be a complete, actionable suggestion.\n    `;\n        const text = await this.generateWithFallback(prompt);\n        const rawResponse = this.parseAIResponse(text, [\n            `Develop industry-specific versions of ${title} tailored for different verticals to address unique workflow requirements and compliance needs`,\n            `Implement advanced AI-powered features within ${title} to provide predictive insights and automation that competitors lack`,\n            `Create a comprehensive onboarding experience specifically designed for ${title} users with interactive tutorials and progressive feature discovery`,\n            `Introduce a strategic freemium model for ${title} that showcases core value while driving conversion through well-designed upgrade paths`,\n            `Build native mobile applications that enable users to access ${title} functionality on-the-go with offline capabilities and real-time sync`,\n            `Establish partnerships with complementary platforms to create seamless integrations that make ${title} essential in users' daily workflows`,\n            `Implement advanced analytics and reporting features that help ${title} users measure ROI and demonstrate value to stakeholders`,\n            `Develop white-label solutions that allow partners to rebrand and resell ${title} capabilities to their own customer bases`,\n            `Create an API ecosystem around ${title} that enables third-party developers to build extensions and custom integrations`,\n            `Add enterprise-grade security features including SSO, audit trails, and compliance certifications to appeal to larger organizations`\n        ]);\n        // Safeguard: Convert objects to strings if AI returned objects instead of strings\n        if (Array.isArray(rawResponse)) {\n            return rawResponse.map((item)=>{\n                if (typeof item === \"string\") {\n                    return item;\n                } else if (typeof item === \"object\" && (item.suggestion || item.text || item.description)) {\n                    // Extract suggestion text from object if AI returned objects\n                    return item.suggestion || item.text || item.description || String(item);\n                } else {\n                    return String(item);\n                }\n            });\n        }\n        return rawResponse;\n    }\n    async generateCoreFeatures(title, description) {\n        const prompt = `\n      Based on this SaaS idea, identify 5-7 core MVP features:\n      Title: ${title}\n      Description: ${description}\n\n      Return a JSON array with objects containing: title, description, priority (High/Medium/Low)\n      Example: [{\"title\": \"SaaS Idea validation and scoring system\", \"description\": \"Core feature description\", \"priority\": \"High\"}]\n    `;\n        const text = await this.generateWithFallback(prompt);\n        return this.parseAIResponse(text, [\n            {\n                title: \"SaaS Idea validation and scoring system\",\n                description: \"Core validation system with scoring\",\n                priority: \"High\"\n            },\n            {\n                title: \"Interactive project planning with AI recommendations\",\n                description: \"AI-powered project planning features\",\n                priority: \"High\"\n            }\n        ]);\n    }\n    async generateTechStack(title, description) {\n        const prompt = `\n      Create a comprehensive technical architecture recommendation for this SaaS:\n      Title: ${title}\n      Description: ${description}\n\n      Analyze the technical requirements based on the specific functionality described in: ${description}\n      Consider scalability, performance, security, and integration needs for ${title}\n\n      Return a JSON array of objects with category and detailed technologies array.\n      \n      Required categories with 4-8 technologies each:\n      1. \"Frontend Development\" - UI frameworks, styling, state management, build tools\n      2. \"Backend Architecture\" - API frameworks, server technologies, microservices, authentication\n      3. \"Database & Storage\" - Primary database, caching, file storage, data warehouse\n      4. \"Cloud Infrastructure\" - Hosting, CDN, container orchestration, serverless functions\n      5. \"DevOps & Monitoring\" - CI/CD, monitoring, logging, error tracking, performance\n      6. \"Security & Compliance\" - Authentication, authorization, encryption, compliance tools\n      7. \"Integration & APIs\" - Third-party services, payment processing, communication APIs\n      8. \"Analytics & Intelligence\" - Business intelligence, user analytics, A/B testing, machine learning\n\n      Each technology should be relevant to the specific needs of ${title} and the functionality described.\n      Consider both current MVP needs and future scaling requirements.\n\n      Example format:\n      [\n        {\n          \"category\": \"Frontend Development\",\n          \"technologies\": [\"Next.js 14 with App Router\", \"React 18 with TypeScript\", \"Tailwind CSS with Headless UI\", \"Zustand for state management\", \"React Query for server state\", \"Framer Motion for animations\"]\n        }\n      ]\n    `;\n        const text = await this.generateWithFallback(prompt);\n        return this.parseAIResponse(text, [\n            {\n                category: \"Frontend Development\",\n                technologies: [\n                    \"Next.js 14 with App Router\",\n                    \"React 18 with TypeScript\",\n                    \"Tailwind CSS with Headless UI\",\n                    \"Zustand for state management\",\n                    \"React Query for server state\",\n                    \"Framer Motion for animations\",\n                    \"React Hook Form for form handling\",\n                    \"Recharts for data visualization\"\n                ]\n            },\n            {\n                category: \"Backend Architecture\",\n                technologies: [\n                    \"Node.js with Express.js\",\n                    \"TypeScript for type safety\",\n                    \"GraphQL with Apollo Server\",\n                    \"JWT authentication with refresh tokens\",\n                    \"Rate limiting with Redis\",\n                    \"Background job processing with Bull Queue\",\n                    \"WebSocket support with Socket.io\",\n                    \"API documentation with Swagger/OpenAPI\"\n                ]\n            },\n            {\n                category: \"Database & Storage\",\n                technologies: [\n                    \"PostgreSQL as primary database\",\n                    \"Redis for caching and sessions\",\n                    \"Prisma ORM for database management\",\n                    \"AWS S3 for file storage\",\n                    \"CloudFront CDN for asset delivery\",\n                    \"Database migrations with Flyway\",\n                    \"Backup automation with pg_dump\"\n                ]\n            },\n            {\n                category: \"Cloud Infrastructure\",\n                technologies: [\n                    \"AWS ECS with Fargate for containerization\",\n                    \"Application Load Balancer for traffic distribution\",\n                    \"AWS RDS for managed PostgreSQL\",\n                    \"AWS ElastiCache for Redis\",\n                    \"AWS Lambda for serverless functions\",\n                    \"Amazon CloudWatch for monitoring\",\n                    \"AWS VPC for network security\"\n                ]\n            },\n            {\n                category: \"DevOps & Monitoring\",\n                technologies: [\n                    \"GitHub Actions for CI/CD\",\n                    \"Docker for containerization\",\n                    \"Terraform for infrastructure as code\",\n                    \"DataDog for application monitoring\",\n                    \"Sentry for error tracking\",\n                    \"LogRocket for session replay\",\n                    \"New Relic for performance monitoring\",\n                    \"SonarQube for code quality\"\n                ]\n            },\n            {\n                category: \"Security & Compliance\",\n                technologies: [\n                    \"OAuth 2.0 with OIDC for authentication\",\n                    \"Auth0 for identity management\",\n                    \"AWS IAM for access control\",\n                    \"SSL/TLS encryption with Let's Encrypt\",\n                    \"OWASP security scanning\",\n                    \"SOC 2 compliance tools\",\n                    \"GDPR compliance automation\",\n                    \"Penetration testing with OWASP ZAP\"\n                ]\n            },\n            {\n                category: \"Integration & APIs\",\n                technologies: [\n                    \"Stripe for payment processing\",\n                    \"SendGrid for email delivery\",\n                    \"Twilio for SMS notifications\",\n                    \"Zapier for workflow automation\",\n                    \"REST and GraphQL APIs\",\n                    \"Webhook management system\",\n                    \"Third-party API rate limiting\",\n                    \"API versioning strategy\"\n                ]\n            },\n            {\n                category: \"Analytics & Intelligence\",\n                technologies: [\n                    \"Google Analytics 4 for web analytics\",\n                    \"Mixpanel for product analytics\",\n                    \"Amplitude for user behavior tracking\",\n                    \"A/B testing with Optimizely\",\n                    \"Business intelligence with Tableau\",\n                    \"Machine learning with TensorFlow.js\",\n                    \"Data pipeline with Apache Airflow\",\n                    \"Real-time analytics with Apache Kafka\"\n                ]\n            }\n        ]);\n    }\n    async generatePricingModel(title, description) {\n        const prompt = `\n      Create a comprehensive 4-tier pricing strategy for this SaaS:\n      Title: ${title}\n      Description: ${description}\n\n      Return a JSON array of exactly 4 pricing tiers with this structure:\n      [\n        {\n          \"name\": \"Starter\",\n          \"price\": \"$29/mo\",\n          \"features\": [\"Feature 1\", \"Feature 2\", \"Feature 3\", \"Feature 4\", \"Feature 5\"],\n          \"recommended\": false\n        },\n        {\n          \"name\": \"Professional\",\n          \"price\": \"$79/mo\", \n          \"features\": [\"Everything in Starter\", \"Advanced feature 1\", \"Advanced feature 2\", \"Advanced feature 3\", \"Advanced feature 4\"],\n          \"recommended\": true\n        },\n        {\n          \"name\": \"Enterprise\",\n          \"price\": \"$199/mo\",\n          \"features\": [\"Everything in Professional\", \"Enterprise feature 1\", \"Enterprise feature 2\", \"Enterprise feature 3\"],\n          \"recommended\": false\n        },\n        {\n          \"name\": \"Custom\",\n          \"price\": \"Contact us\",\n          \"features\": [\"Everything in Enterprise\", \"Custom integrations\", \"Dedicated support\", \"SLA guarantee\"],\n          \"recommended\": false\n        }\n      ]\n\n      Create exactly 4 tiers: Starter, Professional (recommended), Enterprise, and Custom. Each tier should have 4-6 specific features relevant to ${title}.\n    `;\n        const text = await this.generateWithFallback(prompt);\n        return this.parseAIResponse(text, [\n            {\n                name: \"Starter\",\n                price: \"$29/mo\",\n                features: [\n                    `Basic ${title} functionality`,\n                    \"Core features for getting started\",\n                    \"Email support\",\n                    \"Standard integrations\",\n                    \"Mobile app access\",\n                    \"Basic analytics\"\n                ],\n                recommended: false\n            },\n            {\n                name: \"Professional\",\n                price: \"$79/mo\",\n                features: [\n                    \"Everything in Starter\",\n                    `Advanced ${title} features`,\n                    `Enhanced analytics for ${title}`,\n                    \"Priority support\",\n                    \"API access\",\n                    \"Advanced integrations\",\n                    \"Team collaboration\",\n                    \"Custom branding\"\n                ],\n                recommended: true\n            },\n            {\n                name: \"Enterprise\",\n                price: \"$199/mo\",\n                features: [\n                    \"Everything in Professional\",\n                    `Enterprise ${title} features`,\n                    \"Dedicated support\",\n                    \"Custom integrations\",\n                    \"Advanced security\",\n                    \"SLA guarantee\",\n                    \"Unlimited users\",\n                    \"White-label options\"\n                ],\n                recommended: false\n            },\n            {\n                name: \"Custom\",\n                price: \"Contact us\",\n                features: [\n                    \"Everything in Enterprise\",\n                    `Custom ${title} development`,\n                    \"On-premise deployment\",\n                    \"24/7 dedicated support\",\n                    \"Professional services\",\n                    \"Custom SLA\"\n                ],\n                recommended: false\n            }\n        ]);\n    }\n    async generateUserFlow(title, description) {\n        const prompt = `\n      Create a comprehensive, detailed user flow for this SaaS application:\n      Title: ${title}\n      Description: ${description}\n\n      Design a complete user journey that covers the entire user experience from discovery to ongoing usage.\n      Consider the specific functionality described in: ${description}\n      Map out user interactions that are directly relevant to ${title} and its core value proposition.\n\n      Create 12-18 detailed steps that include:\n      1. Discovery & Landing (2-3 steps)\n      2. Registration & Onboarding (3-4 steps)\n      3. Core Feature Usage (4-6 steps)\n      4. Value Realization (2-3 steps)\n      5. Advanced Features & Growth (2-3 steps)\n      6. Ongoing Engagement (1-2 steps)\n\n      Each step should be:\n      - Specific to the ${title} user experience\n      - Actionable and clear about what the user does\n      - Focused on the core functionality described in the SaaS description\n      - Progressive, building from simple to advanced usage\n      - Include decision points and user outcomes\n\n      Return a JSON array of strings. Each step should be detailed (10-20 words) and specific to this SaaS concept.\n\n      Consider different user personas and use cases that would interact with ${title} based on its intended functionality.\n    `;\n        const text = await this.generateWithFallback(prompt);\n        return this.parseAIResponse(text, [\n            `User discovers ${title} through targeted search or referral and lands on the value-focused homepage`,\n            \"User explores the demo or interactive showcase to understand core capabilities and potential ROI\",\n            \"User clicks the primary call-to-action and begins the streamlined registration process\",\n            \"User completes account setup with role-based onboarding questions to personalize their experience\",\n            \"User goes through an interactive tutorial that demonstrates key features using sample data\",\n            `User imports or connects their existing data sources to begin using ${title} with real information`,\n            \"User configures initial settings and preferences based on their specific workflow requirements\",\n            `User performs their first core action using ${title} main functionality as described in the use case`,\n            \"User reviews the results, insights, or outputs generated by the system and validates accuracy\",\n            \"User explores additional features and tools that complement their primary workflow\",\n            \"User invites team members or collaborators to join their workspace and assigns appropriate permissions\",\n            \"User sets up automated workflows, notifications, or recurring processes to maximize efficiency\",\n            \"User accesses advanced analytics and reporting to measure impact and demonstrate value to stakeholders\",\n            \"User integrates with existing tools and platforms in their tech stack through native connectors\",\n            \"User upgrades to a higher-tier plan to access premium features and increased usage limits\",\n            \"User becomes a power user, leveraging API access and advanced customization options\",\n            \"User refers colleagues or other companies, participating in referral programs and community features\",\n            \"User engages with ongoing support, training resources, and product updates to optimize usage\"\n        ]);\n    }\n    async generateMVPKanban(title, description) {\n        const prompt = `\n      Create MVP development tickets organized by priority for this SaaS:\n      Title: ${title}\n      Description: ${description}\n\n      Return a JSON object with this structure:\n      {\n        \"high\": [\n          {\n            \"title\": \"Critical task title\",\n            \"description\": \"Detailed description of critical task\",\n            \"priority\": \"High\",\n            \"status\": \"Backlog\",\n            \"estimatedHours\": 8\n          }\n        ],\n        \"medium\": [\n          {\n            \"title\": \"Important task\",\n            \"description\": \"Description of important task\",\n            \"priority\": \"Medium\",\n            \"status\": \"Backlog\",\n            \"estimatedHours\": 12\n          }\n        ],\n        \"low\": [\n          {\n            \"title\": \"Nice to have task\",\n            \"description\": \"Description of enhancement task\",\n            \"priority\": \"Low\",\n            \"status\": \"Backlog\",\n            \"estimatedHours\": 6\n          }\n        ]\n      }\n\n      Create 10-15 total tickets organized by priority covering key MVP development tasks.\n      High priority: Core functionality, critical features, must-haves for MVP\n      Medium priority: Important features, user experience improvements\n      Low priority: Nice-to-have features, future enhancements, polish items\n    `;\n        const text = await this.generateWithFallback(prompt);\n        return this.parseAIResponse(text, {\n            high: [\n                {\n                    title: \"Implement user authentication\",\n                    description: \"Set up user registration, login, and authentication system - critical for user management\",\n                    priority: \"High\",\n                    status: \"Backlog\",\n                    estimatedHours: 16\n                },\n                {\n                    title: \"Build core analysis engine\",\n                    description: \"Develop the main SaaS validation analysis functionality\",\n                    priority: \"High\",\n                    status: \"Backlog\",\n                    estimatedHours: 24\n                },\n                {\n                    title: \"Create analysis results dashboard\",\n                    description: \"Build main dashboard for displaying comprehensive analysis results\",\n                    priority: \"High\",\n                    status: \"Backlog\",\n                    estimatedHours: 20\n                },\n                {\n                    title: \"Implement idea input form\",\n                    description: \"Create form for users to input their SaaS ideas with validation\",\n                    priority: \"High\",\n                    status: \"Backlog\",\n                    estimatedHours: 12\n                }\n            ],\n            medium: [\n                {\n                    title: \"Add PDF export functionality\",\n                    description: \"Enable users to download analysis results as formatted PDF documents\",\n                    priority: \"Medium\",\n                    status: \"Backlog\",\n                    estimatedHours: 16\n                },\n                {\n                    title: \"Design responsive UI components\",\n                    description: \"Create reusable UI components with responsive design and consistent styling\",\n                    priority: \"Medium\",\n                    status: \"Backlog\",\n                    estimatedHours: 14\n                },\n                {\n                    title: \"Implement error handling\",\n                    description: \"Add comprehensive error handling and user feedback mechanisms\",\n                    priority: \"Medium\",\n                    status: \"Backlog\",\n                    estimatedHours: 8\n                },\n                {\n                    title: \"Add loading states and progress indicators\",\n                    description: \"Implement loading animations and progress feedback for better UX\",\n                    priority: \"Medium\",\n                    status: \"Backlog\",\n                    estimatedHours: 6\n                }\n            ],\n            low: [\n                {\n                    title: \"Add dark mode support\",\n                    description: \"Implement dark/light theme toggle for better user preferences\",\n                    priority: \"Low\",\n                    status: \"Backlog\",\n                    estimatedHours: 10\n                },\n                {\n                    title: \"Create help documentation\",\n                    description: \"Build comprehensive help section and user guides\",\n                    priority: \"Low\",\n                    status: \"Backlog\",\n                    estimatedHours: 12\n                },\n                {\n                    title: \"Add keyboard shortcuts\",\n                    description: \"Implement keyboard shortcuts for power users\",\n                    priority: \"Low\",\n                    status: \"Backlog\",\n                    estimatedHours: 6\n                },\n                {\n                    title: \"Implement analytics tracking\",\n                    description: \"Add user analytics and usage tracking for insights\",\n                    priority: \"Low\",\n                    status: \"Backlog\",\n                    estimatedHours: 8\n                }\n            ]\n        });\n    }\n    async generateCompetitiveAnalysis(title, description) {\n        const prompt = `\n      Analyze this SaaS idea and provide comprehensive competitive analysis:\n      Title: ${title}\n      Description: ${description}\n\n      Return a JSON object with this structure:\n      {\n        \"marketOverview\": \"Brief overview of the market landscape and trends\",\n        \"competitors\": [\n          {\n            \"name\": \"CompetitorName\",\n            \"url\": \"optional website\",\n            \"pricing\": \"price range\",\n            \"marketShare\": \"estimated market share\",\n            \"keyFeatures\": [\"feature1\", \"feature2\", \"feature3\"],\n            \"strengths\": [\"strength1\", \"strength2\"],\n            \"weaknesses\": [\"weakness1\", \"weakness2\"]\n          }\n        ],\n        \"gapAnalysis\": {\n          \"opportunities\": [\"opportunity1\", \"opportunity2\"],\n          \"threats\": [\"threat1\", \"threat2\"]\n        },\n        \"strategicRecommendations\": [\"recommendation1\", \"recommendation2\"]\n      }\n\n      Identify 3-5 real competitors and provide specific strategic insights.\n    `;\n        const text = await this.generateWithFallback(prompt);\n        return this.parseAIResponse(text, {\n            marketOverview: \"The SaaS validation market is growing rapidly with increasing demand for data-driven decision making tools for entrepreneurs and startups.\",\n            competitors: [\n                {\n                    name: \"IdeaBuddy\",\n                    url: \"https://ideabuddy.com\",\n                    pricing: \"$10-50/month\",\n                    marketShare: \"15%\",\n                    keyFeatures: [\n                        \"Business plan creation\",\n                        \"Financial modeling\",\n                        \"Idea validation\"\n                    ],\n                    strengths: [\n                        \"Comprehensive business planning\",\n                        \"User-friendly interface\"\n                    ],\n                    weaknesses: [\n                        \"Limited AI integration\",\n                        \"Higher pricing\"\n                    ]\n                },\n                {\n                    name: \"Lean Canvas\",\n                    url: \"https://leancanvas.com\",\n                    pricing: \"Free-$20/month\",\n                    marketShare: \"25%\",\n                    keyFeatures: [\n                        \"Lean canvas creation\",\n                        \"Team collaboration\",\n                        \"Templates\"\n                    ],\n                    strengths: [\n                        \"Simple methodology\",\n                        \"Affordable pricing\"\n                    ],\n                    weaknesses: [\n                        \"Limited analysis depth\",\n                        \"No AI features\"\n                    ]\n                }\n            ],\n            gapAnalysis: {\n                opportunities: [\n                    \"AI-powered competitive analysis not widely available\",\n                    \"Integrated financial modeling with real-time data\",\n                    \"Automated launch roadmap generation\"\n                ],\n                threats: [\n                    \"Large players entering the market\",\n                    \"Free alternatives gaining popularity\",\n                    \"Economic downturn affecting startup funding\"\n                ]\n            },\n            strategicRecommendations: [\n                \"Focus on AI-driven insights as key differentiator\",\n                \"Implement freemium model to compete with free alternatives\",\n                \"Build strong integrations with popular startup tools\",\n                \"Develop mobile app for on-the-go entrepreneurs\"\n            ]\n        });\n    }\n    async generateFinancialModeling(title, description) {\n        const prompt = `\n      Create comprehensive profit-focused financial analysis for this SaaS:\n      Title: ${title}\n      Description: ${description}\n\n      Return a JSON object with this EXACT structure:\n      {\n        \"customerLifetimeValue\": 2400,\n        \"mrrProjection\": {\n          \"year1\": 5000,\n          \"year2\": 25000,\n          \"year3\": 75000\n        },\n        \"arrProjection\": {\n          \"year1\": 60000,\n          \"year2\": 300000,\n          \"year3\": 900000\n        },\n        \"profitMargin\": 75,\n        \"revenueStreams\": [\n          {\n            \"name\": \"Subscription Revenue (Core Platform)\",\n            \"description\": \"Monthly recurring revenue from base AI-powered ${title} platform\",\n            \"potentialRevenue\": \"$50,000/month\"\n          },\n          {\n            \"name\": \"Premium Features (Add-ons)\",\n            \"description\": \"Additional revenue from premium features like advanced analytics, personalized coaching, and priority support\",\n            \"potentialRevenue\": \"$15,000/month\"\n          },\n          {\n            \"name\": \"Enterprise Solutions\",\n            \"description\": \"Tailored solutions for larger VC firms and accelerator programs\",\n            \"potentialRevenue\": \"$25,000/month\"\n          }\n        ],\n        \"profitMaximizationStrategies\": [\n          {\n            \"strategy\": \"Upselling Existing Customers\",\n            \"description\": \"Increase revenue from current user base by promoting premium features and higher-tier plans\",\n            \"potentialIncrease\": \"30-50%\"\n          },\n          {\n            \"strategy\": \"Customer Retention Programs\",\n            \"description\": \"Implement loyalty programs and long-term contracts to increase customer lifetime value\",\n            \"potentialIncrease\": \"25-40%\"\n          },\n          {\n            \"strategy\": \"Automation & Efficiency\",\n            \"description\": \"Reduce operational costs through automation and streamlined processes\",\n            \"potentialIncrease\": \"20-35%\"\n          },\n          {\n            \"strategy\": \"Strategic Partnerships\",\n            \"description\": \"Partner with complementary services to expand market reach and reduce acquisition costs\",\n            \"potentialIncrease\": \"40-60%\"\n          }\n        ],\n        \"scalingOpportunities\": [\n          \"Enterprise tier with custom integrations and dedicated support\",\n          \"White-label solutions for partners and resellers\",\n          \"API monetization for third-party developers\",\n          \"International market expansion\",\n          \"Industry-specific customizations\"\n        ]\n      }\n\n      Generate realistic financial projections with 4+ profit maximization strategies and 5+ scaling opportunities specific to ${title}.\n    `;\n        const text = await this.generateWithFallback(prompt);\n        return this.parseAIResponse(text, {\n            customerLifetimeValue: 2400,\n            mrrProjection: {\n                year1: 5000,\n                year2: 25000,\n                year3: 75000\n            },\n            arrProjection: {\n                year1: 60000,\n                year2: 300000,\n                year3: 900000\n            },\n            profitMargin: 75,\n            revenueStreams: [\n                {\n                    name: \"Subscription Revenue\",\n                    description: \"Monthly recurring revenue from core platform subscriptions\",\n                    potentialRevenue: \"$50,000/month\"\n                },\n                {\n                    name: \"Premium Features\",\n                    description: \"Additional revenue from premium add-ons and advanced features\",\n                    potentialRevenue: \"$15,000/month\"\n                },\n                {\n                    name: \"Enterprise Solutions\",\n                    description: \"High-value enterprise contracts and custom implementations\",\n                    potentialRevenue: \"$25,000/month\"\n                }\n            ],\n            profitMaximizationStrategies: [\n                {\n                    strategy: \"Upselling Existing Customers\",\n                    description: \"Increase revenue from current user base by promoting premium features and higher-tier plans\",\n                    potentialIncrease: \"30-50%\"\n                },\n                {\n                    strategy: \"Customer Retention Programs\",\n                    description: \"Implement loyalty programs and long-term contracts to increase customer lifetime value\",\n                    potentialIncrease: \"25-40%\"\n                },\n                {\n                    strategy: \"Automation & Efficiency\",\n                    description: \"Reduce operational costs through automation and streamlined processes\",\n                    potentialIncrease: \"20-35%\"\n                },\n                {\n                    strategy: \"Strategic Partnerships\",\n                    description: \"Partner with complementary services to expand market reach and reduce acquisition costs\",\n                    potentialIncrease: \"40-60%\"\n                }\n            ],\n            scalingOpportunities: [\n                \"Enterprise tier with custom integrations and dedicated support\",\n                \"White-label solutions for partners and resellers\",\n                \"API monetization for third-party developers\",\n                \"International market expansion\",\n                \"Industry-specific customizations\"\n            ]\n        });\n    }\n    async generateLaunchRoadmap(title, description) {\n        const prompt = `\n      Create a comprehensive launch roadmap for this SaaS:\n      Title: ${title}\n      Description: ${description}\n\n      Return a JSON object with this EXACT structure:\n      {\n        \"preLaunch\": [\n          {\n            \"task\": \"Conduct comprehensive market research\",\n            \"description\": \"Research target audience, competitors, market size, and validate demand for ${title}\",\n            \"priority\": \"High\",\n            \"estimatedDays\": 14\n          },\n          {\n            \"task\": \"Build MVP with core features\",\n            \"description\": \"Develop minimum viable product with essential ${title} functionality\",\n            \"priority\": \"High\",\n            \"estimatedDays\": 45\n          },\n          {\n            \"task\": \"Design and develop landing page\",\n            \"description\": \"Create compelling marketing website with clear value proposition\",\n            \"priority\": \"High\",\n            \"estimatedDays\": 7\n          },\n          {\n            \"task\": \"Set up analytics and tracking\",\n            \"description\": \"Implement Google Analytics, mixpanel, and error tracking systems\",\n            \"priority\": \"Medium\",\n            \"estimatedDays\": 3\n          },\n          {\n            \"task\": \"Beta testing with target users\",\n            \"description\": \"Recruit 50-100 beta users and gather feedback on ${title}\",\n            \"priority\": \"High\",\n            \"estimatedDays\": 21\n          }\n        ],\n        \"launch\": [\n          {\n            \"task\": \"Official product launch\",\n            \"description\": \"Launch ${title} to the public with coordinated marketing campaign\",\n            \"priority\": \"High\",\n            \"estimatedDays\": 1\n          },\n          {\n            \"task\": \"Press release distribution\",\n            \"description\": \"Distribute press release to tech media and industry publications\",\n            \"priority\": \"Medium\",\n            \"estimatedDays\": 2\n          },\n          {\n            \"task\": \"Social media marketing blitz\",\n            \"description\": \"Launch coordinated social media campaign across LinkedIn, Twitter, and relevant communities\",\n            \"priority\": \"High\",\n            \"estimatedDays\": 7\n          }\n        ],\n        \"postLaunch\": [\n          {\n            \"task\": \"Monitor key metrics and KPIs\",\n            \"description\": \"Track user acquisition, retention, conversion rates, and revenue metrics daily\",\n            \"priority\": \"High\",\n            \"estimatedDays\": 90\n          },\n          {\n            \"task\": \"Customer feedback collection\",\n            \"description\": \"Systematically collect and analyze user feedback for product improvements\",\n            \"priority\": \"High\",\n            \"estimatedDays\": 30\n          },\n          {\n            \"task\": \"Feature iteration and improvement\",\n            \"description\": \"Implement feature improvements based on user feedback and usage data\",\n            \"priority\": \"Medium\",\n            \"estimatedDays\": 60\n          },\n          {\n            \"task\": \"Scale marketing and sales efforts\",\n            \"description\": \"Expand marketing budget and channels based on initial performance data\",\n            \"priority\": \"Medium\",\n            \"estimatedDays\": 45\n          }\n        ],\n        \"timelineEstimate\": [\n          {\n            \"phase\": \"Pre-Launch Phase\",\n            \"duration\": \"3-4 months\",\n            \"milestones\": [\"MVP completed and tested\", \"Beta feedback incorporated\", \"Marketing materials ready\", \"Launch strategy finalized\"]\n          },\n          {\n            \"phase\": \"Launch Phase\",\n            \"duration\": \"1-2 weeks\",\n            \"milestones\": [\"Public launch executed\", \"Marketing campaigns live\", \"Customer support operational\", \"Initial user acquisition\"]\n          },\n          {\n            \"phase\": \"Post-Launch Phase\",\n            \"duration\": \"6-12 months\",\n            \"milestones\": [\"User feedback analyzed\", \"Product iterations deployed\", \"Growth metrics established\", \"Scaling strategy implemented\"]\n          }\n        ]\n      }\n\n      Generate comprehensive roadmap with 8+ pre-launch tasks, 3+ launch tasks, 4+ post-launch tasks, and detailed timeline phases.\n    `;\n        const text = await this.generateWithFallback(prompt);\n        return this.parseAIResponse(text, {\n            preLaunch: [\n                {\n                    task: \"Conduct market research\",\n                    description: \"Research target audience, competitors, and market size\",\n                    priority: \"High\",\n                    estimatedDays: 7\n                },\n                {\n                    task: \"Validate product-market fit\",\n                    description: \"Test core features with potential users and gather feedback\",\n                    priority: \"High\",\n                    estimatedDays: 14\n                },\n                {\n                    task: \"Build MVP\",\n                    description: \"Develop minimum viable product with core features\",\n                    priority: \"High\",\n                    estimatedDays: 45\n                },\n                {\n                    task: \"Create landing page\",\n                    description: \"Design and develop marketing landing page\",\n                    priority: \"High\",\n                    estimatedDays: 5\n                },\n                {\n                    task: \"Set up analytics\",\n                    description: \"Implement tracking and analytics tools\",\n                    priority: \"Medium\",\n                    estimatedDays: 2\n                }\n            ],\n            launch: [\n                {\n                    task: \"Official product launch\",\n                    description: \"Launch product to the public with marketing campaign\",\n                    priority: \"High\",\n                    estimatedDays: 1\n                },\n                {\n                    task: \"Press release\",\n                    description: \"Distribute press release to relevant media outlets\",\n                    priority: \"Medium\",\n                    estimatedDays: 1\n                },\n                {\n                    task: \"Social media campaign\",\n                    description: \"Launch coordinated social media marketing campaign\",\n                    priority: \"High\",\n                    estimatedDays: 3\n                }\n            ],\n            postLaunch: [\n                {\n                    task: \"Monitor key metrics\",\n                    description: \"Track user acquisition, retention, and revenue metrics\",\n                    priority: \"High\",\n                    estimatedDays: 30\n                },\n                {\n                    task: \"Gather user feedback\",\n                    description: \"Collect and analyze user feedback for improvements\",\n                    priority: \"High\",\n                    estimatedDays: 14\n                },\n                {\n                    task: \"Iterate on features\",\n                    description: \"Implement feature improvements based on user feedback\",\n                    priority: \"Medium\",\n                    estimatedDays: 21\n                },\n                {\n                    task: \"Scale marketing\",\n                    description: \"Expand marketing efforts based on initial results\",\n                    priority: \"Medium\",\n                    estimatedDays: 30\n                }\n            ],\n            timelineEstimate: [\n                {\n                    phase: \"Pre-Launch\",\n                    duration: \"2-3 months\",\n                    milestones: [\n                        \"MVP completed\",\n                        \"Beta testing done\",\n                        \"Marketing materials ready\"\n                    ]\n                },\n                {\n                    phase: \"Launch\",\n                    duration: \"1 week\",\n                    milestones: [\n                        \"Public launch\",\n                        \"Marketing campaigns live\",\n                        \"Customer support ready\"\n                    ]\n                },\n                {\n                    phase: \"Post-Launch\",\n                    duration: \"3-6 months\",\n                    milestones: [\n                        \"User feedback analyzed\",\n                        \"Feature iterations deployed\",\n                        \"Growth metrics established\"\n                    ]\n                }\n            ]\n        });\n    }\n    async generateSimilarIdeas(title, description) {\n        const prompt = `\n      Based on this SaaS idea, suggest 6-8 similar business ideas that entrepreneurs might be interested in:\n      Title: ${title}\n      Description: ${description}\n\n      Return a JSON array with this structure:\n      [\n        {\n          \"title\": \"Similar SaaS Idea Title\",\n          \"description\": \"Brief description of the similar idea\",\n          \"category\": \"Category like 'Productivity', 'Marketing', 'Analytics', etc.\"\n        }\n      ]\n\n      Focus on related but distinct SaaS ideas in similar markets or solving adjacent problems.\n    `;\n        const text = await this.generateWithFallback(prompt, true);\n        return this.parseAIResponse(text, [\n            {\n                title: \"AI-Powered Business Plan Generator\",\n                description: \"Automatically create comprehensive business plans using AI analysis\",\n                category: \"Business Planning\"\n            },\n            {\n                title: \"Startup Pitch Deck Creator\",\n                description: \"Design compelling investor pitch decks with AI-driven insights\",\n                category: \"Fundraising\"\n            },\n            {\n                title: \"Market Research Automation Tool\",\n                description: \"Automated market analysis and competitor research platform\",\n                category: \"Market Research\"\n            },\n            {\n                title: \"Revenue Optimization Dashboard\",\n                description: \"SaaS tool to maximize revenue through pricing and upselling strategies\",\n                category: \"Revenue Growth\"\n            },\n            {\n                title: \"Customer Feedback Analysis Platform\",\n                description: \"AI-powered analysis of customer feedback to improve products\",\n                category: \"Customer Success\"\n            },\n            {\n                title: \"Startup Mentor Matching Service\",\n                description: \"Connect entrepreneurs with experienced mentors in their industry\",\n                category: \"Networking\"\n            }\n        ]);\n    }\n    constructor(){\n        this.model = genAI.getGenerativeModel({\n            model: \"gemini-1.5-flash\"\n        });\n        this.fallbackModel = genAI.getGenerativeModel({\n            model: \"gemini-1.5-flash-8b\"\n        }) // Smaller, faster model\n        ;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFrQjtRQUM3RSxNQUFNbkMsU0FBUyxDQUFDOzthQUVQLEVBQUVrQyxNQUFNO21CQUNGLEVBQUVDLFlBQVk7Ozs7Ozs7Ozs7OztJQVk3QixDQUFDO1FBRUQsTUFBTTNCLE9BQU8sTUFBTSxJQUFJLENBQUNULG9CQUFvQixDQUFDQyxRQUFRO1FBRXJELE9BQU8sSUFBSSxDQUFDWSxlQUFlLENBQUNKLE1BQU07WUFDaEM7Z0JBQ0UwQixPQUFPO2dCQUNQQyxhQUFhO2dCQUNiMEMsVUFBVTtZQUNaO1lBQ0E7Z0JBQ0UzQyxPQUFPO2dCQUNQQyxhQUFhO2dCQUNiMEMsVUFBVTtZQUNaO1lBQ0E7Z0JBQ0UzQyxPQUFPO2dCQUNQQyxhQUFhO2dCQUNiMEMsVUFBVTtZQUNaO1lBQ0E7Z0JBQ0UzQyxPQUFPO2dCQUNQQyxhQUFhO2dCQUNiMEMsVUFBVTtZQUNaO1lBQ0E7Z0JBQ0UzQyxPQUFPO2dCQUNQQyxhQUFhO2dCQUNiMEMsVUFBVTtZQUNaO1lBQ0E7Z0JBQ0UzQyxPQUFPO2dCQUNQQyxhQUFhO2dCQUNiMEMsVUFBVTtZQUNaO1NBQ0Q7SUFDSDs7YUEza0NRdkUsUUFBUWhDLE1BQU1tSixrQkFBa0IsQ0FBQztZQUFFbkgsT0FBTztRQUFtQjthQUM3REksZ0JBQWdCcEMsTUFBTW1KLGtCQUFrQixDQUFDO1lBQUVuSCxPQUFPO1FBQXNCLEdBQUksd0JBQXdCOzs7QUEya0M5RyIsInNvdXJjZXMiOlsid2VicGFjazovL3NhYXMtaWRlYS12YWxpZGF0b3IvLi9zcmMvbGliL2dlbWluaS50cz85OTRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSSB9IGZyb20gJ0Bnb29nbGUvZ2VuZXJhdGl2ZS1haSc7XG5pbXBvcnQgdHlwZSB7IFxuICBTYWFTQW5hbHlzaXMsIFxuICBWYWxpZGF0aW9uU2NvcmUsIFxuICBDb3JlRmVhdHVyZSwgXG4gIFRlY2hTdGFja0l0ZW0sIFxuICBQcmljaW5nVGllciwgXG4gIEthbmJhblRhc2ssXG4gIE1WUEthbmJhbixcbiAgQ29tcGV0aXRpdmVBbmFseXNpcyxcbiAgRmluYW5jaWFsTW9kZWxpbmcsXG4gIExhdW5jaFJvYWRtYXBcbn0gZnJvbSAnQC90eXBlcyc7XG5cbmNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dFTUlOSV9BUElfS0VZIHx8ICdBSXphU3lBMXpyRmxxMVkyWG9vclQzTnVVdmJmNHRxSEFIOW9YZEEnO1xuY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKGFwaUtleSk7XG5cbmV4cG9ydCBjbGFzcyBHZW1pbmlTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBtb2RlbCA9IGdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7IG1vZGVsOiAnZ2VtaW5pLTEuNS1mbGFzaCcgfSk7XG4gIHByaXZhdGUgZmFsbGJhY2tNb2RlbCA9IGdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7IG1vZGVsOiAnZ2VtaW5pLTEuNS1mbGFzaC04YicgfSk7IC8vIFNtYWxsZXIsIGZhc3RlciBtb2RlbFxuXG4gIHByaXZhdGUgYXN5bmMgcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmPFQ+KFxuICAgIG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPixcbiAgICBtYXhSZXRyaWVzOiBudW1iZXIgPSAzLFxuICAgIGJhc2VEZWxheTogbnVtYmVyID0gMTAwMCxcbiAgICBtYXhEZWxheTogbnVtYmVyID0gMTAwMDBcbiAgKTogUHJvbWlzZTxUPiB7XG4gICAgZm9yIChsZXQgYXR0ZW1wdCA9IDA7IGF0dGVtcHQgPCBtYXhSZXRyaWVzOyBhdHRlbXB0KyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBvcGVyYXRpb24oKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgY29uc3QgaXNMYXN0QXR0ZW1wdCA9IGF0dGVtcHQgPT09IG1heFJldHJpZXMgLSAxO1xuICAgICAgICBjb25zdCBpczUwM0Vycm9yID0gZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJzUwMycpIHx8IGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdvdmVybG9hZGVkJyk7XG4gICAgICAgIGNvbnN0IGlzNDI5RXJyb3IgPSBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnNDI5JykgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ3F1b3RhJyk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhgQXR0ZW1wdCAke2F0dGVtcHQgKyAxfSBmYWlsZWQ6YCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNMYXN0QXR0ZW1wdCB8fCAoIWlzNTAzRXJyb3IgJiYgIWlzNDI5RXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENhbGN1bGF0ZSBkZWxheSB3aXRoIGV4cG9uZW50aWFsIGJhY2tvZmYgYW5kIGppdHRlclxuICAgICAgICBjb25zdCBkZWxheSA9IE1hdGgubWluKFxuICAgICAgICAgIGJhc2VEZWxheSAqIE1hdGgucG93KDIsIGF0dGVtcHQpICsgTWF0aC5yYW5kb20oKSAqIDEwMDAsXG4gICAgICAgICAgbWF4RGVsYXlcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBSZXRyeWluZyBpbiAke2RlbGF5fW1zLi4uYCk7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01heCByZXRyaWVzIGV4Y2VlZGVkJyk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdlbmVyYXRlV2l0aEZhbGxiYWNrKHByb21wdDogc3RyaW5nLCB1c2VDb21wYWN0UHJvbXB0OiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGNvbXBhY3RQcm9tcHQgPSB1c2VDb21wYWN0UHJvbXB0ID8gcHJvbXB0LnN1YnN0cmluZygwLCAxMDAwKSArIFwiLi4uXCIgOiBwcm9tcHQ7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFRyeSBwcmltYXJ5IG1vZGVsIGZpcnN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnJldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZihhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tb2RlbC5nZW5lcmF0ZUNvbnRlbnQodXNlQ29tcGFjdFByb21wdCA/IGNvbXBhY3RQcm9tcHQgOiBwcm9tcHQpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzcG9uc2UudGV4dCgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKHByaW1hcnlFcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ1ByaW1hcnkgbW9kZWwgZmFpbGVkLCB0cnlpbmcgZmFsbGJhY2sgbW9kZWw6JywgcHJpbWFyeUVycm9yLm1lc3NhZ2UpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBUcnkgZmFsbGJhY2sgbW9kZWwgd2l0aCBzaG9ydGVyIHByb21wdFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnJldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZhbGxiYWNrTW9kZWwuZ2VuZXJhdGVDb250ZW50KGNvbXBhY3RQcm9tcHQpO1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5yZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIH0sIDIsIDIwMDApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBjYXRjaCAoZmFsbGJhY2tFcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnRmFsbGJhY2sgbW9kZWwgYWxzbyBmYWlsZWQ6JywgZmFsbGJhY2tFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCb3RoIHByaW1hcnkgYW5kIGZhbGxiYWNrIG1vZGVscyBmYWlsZWQuIFByaW1hcnk6ICR7cHJpbWFyeUVycm9yLm1lc3NhZ2V9LCBGYWxsYmFjazogJHtmYWxsYmFja0Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUFJUmVzcG9uc2U8VD4odGV4dDogc3RyaW5nLCBmYWxsYmFjazogVCk6IFQge1xuICAgIHRyeSB7XG4gICAgICAvLyBSZW1vdmUgY29kZSBibG9ja3MgYW5kIGV4dHJhIGZvcm1hdHRpbmdcbiAgICAgIGxldCBjbGVhbmVkVGV4dCA9IHRleHRcbiAgICAgICAgLnJlcGxhY2UoL2BgYGpzb25cXG4/fFxcbj9gYGAvZywgJycpXG4gICAgICAgIC5yZXBsYWNlKC9gYGBcXG4/fFxcbj9gYGAvZywgJycpXG4gICAgICAgIC5yZXBsYWNlKC9eW157W10qL2csICcnKSAvLyBSZW1vdmUgYW55dGhpbmcgYmVmb3JlIGZpcnN0IHsgb3IgW1xuICAgICAgICAucmVwbGFjZSgvW159XFxdXSokL2csICcnKSAvLyBSZW1vdmUgYW55dGhpbmcgYWZ0ZXIgbGFzdCB9IG9yIF1cbiAgICAgICAgLnRyaW0oKTtcblxuICAgICAgLy8gVHJ5IHRvIGZpbmQgdGhlIEpTT04gb2JqZWN0L2FycmF5IGluIHRoZSB0ZXh0IC0gaW1wcm92ZWQgcmVnZXhcbiAgICAgIGNvbnN0IGpzb25NYXRjaCA9IGNsZWFuZWRUZXh0Lm1hdGNoKC8oXFx7KD86W157fV18KD86XFx7W157fV0qXFx9KSopKlxcfXxcXFsoPzpbXlxcW1xcXV18KD86XFxbW15cXFtcXF1dKlxcXSkqKSpcXF0pLyk7XG4gICAgICBpZiAoanNvbk1hdGNoKSB7XG4gICAgICAgIGNsZWFuZWRUZXh0ID0ganNvbk1hdGNoWzFdO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGRpdGlvbmFsIGNsZWFudXAgLSByZW1vdmUgdHJhaWxpbmcgdGV4dCBhZnRlciBjbG9zaW5nIGJyYWNlL2JyYWNrZXRcbiAgICAgIGNvbnN0IGxpbmVzID0gY2xlYW5lZFRleHQuc3BsaXQoJ1xcbicpO1xuICAgICAgbGV0IGpzb25FbmRJbmRleCA9IC0xO1xuICAgICAgbGV0IGJyYWNlQ291bnQgPSAwO1xuICAgICAgbGV0IGJyYWNrZXRDb3VudCA9IDA7XG4gICAgICBcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBjaGFyID0gbGluZVtqXTtcbiAgICAgICAgICBpZiAoY2hhciA9PT0gJ3snKSBicmFjZUNvdW50Kys7XG4gICAgICAgICAgaWYgKGNoYXIgPT09ICd9JykgYnJhY2VDb3VudC0tO1xuICAgICAgICAgIGlmIChjaGFyID09PSAnWycpIGJyYWNrZXRDb3VudCsrO1xuICAgICAgICAgIGlmIChjaGFyID09PSAnXScpIGJyYWNrZXRDb3VudC0tO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChicmFjZUNvdW50ID09PSAwICYmIGJyYWNrZXRDb3VudCA9PT0gMCAmJiAoY2hhciA9PT0gJ30nIHx8IGNoYXIgPT09ICddJykpIHtcbiAgICAgICAgICAgIGpzb25FbmRJbmRleCA9IGk7XG4gICAgICAgICAgICBjbGVhbmVkVGV4dCA9IGxpbmVzLnNsaWNlKDAsIGkgKyAxKS5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoanNvbkVuZEluZGV4ICE9PSAtMSkgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGNsZWFuZWRUZXh0KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ0pTT04gcGFyc2luZyBlcnJvcjonLCBlcnJvcik7XG4gICAgICBjb25zb2xlLmxvZygnUmF3IEFJIHJlc3BvbnNlOicsIHRleHQuc3Vic3RyaW5nKDAsIDUwMCkgKyAnLi4uJyk7XG4gICAgICBjb25zb2xlLmxvZygnQ2xlYW5lZCB0ZXh0OicsIHRleHQucmVwbGFjZSgvYGBganNvblxcbj98XFxuP2BgYC9nLCAnJykudHJpbSgpLnN1YnN0cmluZygwLCAyMDApICsgJy4uLicpO1xuICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlU2FhU0FuYWx5c2lzKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBQcm9taXNlPFNhYVNBbmFseXNpcz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgU2FhUyBhbmFseXNpcyBnZW5lcmF0aW9uIGZvcjonLCB0aXRsZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHZhbGlkYXRpb25TY29yZSA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVWYWxpZGF0aW9uU2NvcmUodGl0bGUsIGRlc2NyaXB0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVmFsaWRhdGlvbiBzY29yZSBnZW5lcmF0ZWQnKTtcbiAgICAgIFxuICAgICAgY29uc3QgaW1wcm92ZW1lbnRTdWdnZXN0aW9ucyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVJbXByb3ZlbWVudFN1Z2dlc3Rpb25zKHRpdGxlLCBkZXNjcmlwdGlvbik7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIEltcHJvdmVtZW50IHN1Z2dlc3Rpb25zIGdlbmVyYXRlZCcpO1xuICAgICAgXG4gICAgICBjb25zdCBjb3JlRmVhdHVyZXMgPSBhd2FpdCB0aGlzLmdlbmVyYXRlQ29yZUZlYXR1cmVzKHRpdGxlLCBkZXNjcmlwdGlvbik7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIENvcmUgZmVhdHVyZXMgZ2VuZXJhdGVkJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRlY2hTdGFjayA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVUZWNoU3RhY2sodGl0bGUsIGRlc2NyaXB0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVGVjaCBzdGFjayBnZW5lcmF0ZWQnKTtcbiAgICAgIFxuICAgICAgY29uc3QgcHJpY2luZ01vZGVsID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVByaWNpbmdNb2RlbCh0aXRsZSwgZGVzY3JpcHRpb24pO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBQcmljaW5nIG1vZGVsIGdlbmVyYXRlZCcpO1xuICAgICAgXG4gICAgICBjb25zdCB1c2VyRmxvdyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVVc2VyRmxvdyh0aXRsZSwgZGVzY3JpcHRpb24pO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBVc2VyIGZsb3cgZ2VuZXJhdGVkJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IG12cEthbmJhbiA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVNVlBLYW5iYW4odGl0bGUsIGRlc2NyaXB0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgTVZQIEthbmJhbiBnZW5lcmF0ZWQnKTtcbiAgICAgIFxuICAgICAgY29uc3QgY29tcGV0aXRpdmVBbmFseXNpcyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVDb21wZXRpdGl2ZUFuYWx5c2lzKHRpdGxlLCBkZXNjcmlwdGlvbik7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIENvbXBldGl0aXZlIGFuYWx5c2lzIGdlbmVyYXRlZCcpO1xuICAgICAgXG4gICAgICBjb25zdCBmaW5hbmNpYWxNb2RlbGluZyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVGaW5hbmNpYWxNb2RlbGluZyh0aXRsZSwgZGVzY3JpcHRpb24pO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBGaW5hbmNpYWwgbW9kZWxpbmcgZ2VuZXJhdGVkJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGxhdW5jaFJvYWRtYXAgPSBhd2FpdCB0aGlzLmdlbmVyYXRlTGF1bmNoUm9hZG1hcCh0aXRsZSwgZGVzY3JpcHRpb24pO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBMYXVuY2ggcm9hZG1hcCBnZW5lcmF0ZWQnKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2ltaWxhcklkZWFzID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVNpbWlsYXJJZGVhcyh0aXRsZSwgZGVzY3JpcHRpb24pO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBTaW1pbGFyIGlkZWFzIGdlbmVyYXRlZCcpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZGVhOiB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9LFxuICAgICAgICB2YWxpZGF0aW9uU2NvcmUsXG4gICAgICAgIGltcHJvdmVtZW50U3VnZ2VzdGlvbnMsXG4gICAgICAgIGNvcmVGZWF0dXJlcyxcbiAgICAgICAgdGVjaFN0YWNrLFxuICAgICAgICBwcmljaW5nTW9kZWwsXG4gICAgICAgIHVzZXJGbG93LFxuICAgICAgICBtdnBLYW5iYW4sXG4gICAgICAgIGNvbXBldGl0aXZlQW5hbHlzaXMsXG4gICAgICAgIGZpbmFuY2lhbE1vZGVsaW5nLFxuICAgICAgICBsYXVuY2hSb2FkbWFwLFxuICAgICAgICBzaW1pbGFySWRlYXMsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIFNhYVMgYW5hbHlzaXM6JywgZXJyb3IpO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczonLCB7XG4gICAgICAgIG5hbWU6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5uYW1lIDogJ1Vua25vd24nLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG4gICAgICAgIHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2VuZXJhdGUgYW5hbHlzaXM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVWYWxpZGF0aW9uU2NvcmUodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8VmFsaWRhdGlvblNjb3JlPiB7XG4gICAgY29uc3QgcHJvbXB0ID0gYFxuICAgICAgQW5hbHl6ZSB0aGlzIFNhYVMgaWRlYSBhbmQgcHJvdmlkZSB2YWxpZGF0aW9uIHNjb3JlcyAoMC0xMCkgZm9yIGVhY2ggY2F0ZWdvcnk6XG4gICAgICBUaXRsZTogJHt0aXRsZX1cbiAgICAgIERlc2NyaXB0aW9uOiAke2Rlc2NyaXB0aW9ufVxuXG4gICAgICBSZXR1cm4gYSBKU09OIG9iamVjdCB3aXRoIHRoZXNlIGV4YWN0IGZpZWxkczpcbiAgICAgIHtcbiAgICAgICAgXCJtYXJrZXRQb3RlbnRpYWxcIjogbnVtYmVyLFxuICAgICAgICBcInRlY2huaWNhbEZlYXNpYmlsaXR5XCI6IG51bWJlcixcbiAgICAgICAgXCJjb21wZXRpdGlvbkxldmVsXCI6IG51bWJlcixcbiAgICAgICAgXCJyZXZlbnVlUG90ZW50aWFsXCI6IG51bWJlcixcbiAgICAgICAgXCJyZXNvdXJjZVJlcXVpcmVtZW50c1wiOiBudW1iZXIsXG4gICAgICAgIFwidW5pcXVlVmFsdWVQcm9wb3NpdGlvblwiOiBudW1iZXIsXG4gICAgICAgIFwib3ZlcmFsbFNjb3JlXCI6IG51bWJlclxuICAgICAgfVxuXG4gICAgICBCYXNlIHRoZSBvdmVyYWxsIHNjb3JlIG9uIHRoZSBhdmVyYWdlIG9mIGFsbCBjYXRlZ29yaWVzLlxuICAgIGA7XG5cbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVdpdGhGYWxsYmFjayhwcm9tcHQpO1xuICAgIFxuICAgIHJldHVybiB0aGlzLnBhcnNlQUlSZXNwb25zZSh0ZXh0LCB7XG4gICAgICBtYXJrZXRQb3RlbnRpYWw6IDcsXG4gICAgICB0ZWNobmljYWxGZWFzaWJpbGl0eTogOCxcbiAgICAgIGNvbXBldGl0aW9uTGV2ZWw6IDYsXG4gICAgICByZXZlbnVlUG90ZW50aWFsOiA3LFxuICAgICAgcmVzb3VyY2VSZXF1aXJlbWVudHM6IDYsXG4gICAgICB1bmlxdWVWYWx1ZVByb3Bvc2l0aW9uOiA4LFxuICAgICAgb3ZlcmFsbFNjb3JlOiA3LjAsXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBnZW5lcmF0ZUltcHJvdmVtZW50U3VnZ2VzdGlvbnModGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICBBbmFseXplIHRoaXMgU2FhUyBpZGVhIGFuZCBwcm92aWRlIDgtMTIgc3BlY2lmaWMsIGRldGFpbGVkIGltcHJvdmVtZW50IHN1Z2dlc3Rpb25zOlxuICAgICAgVGl0bGU6ICR7dGl0bGV9XG4gICAgICBEZXNjcmlwdGlvbjogJHtkZXNjcmlwdGlvbn1cblxuICAgICAgR2VuZXJhdGUgY29tcHJlaGVuc2l2ZSBpbXByb3ZlbWVudCBzdWdnZXN0aW9ucyB0aGF0IGFyZTpcbiAgICAgIC0gU3BlY2lmaWNhbGx5IHRhaWxvcmVkIHRvICR7dGl0bGV9IGFuZCBpdHMgdGFyZ2V0IG1hcmtldFxuICAgICAgLSBEaXJlY3RseSBhZGRyZXNzIG9wcG9ydHVuaXRpZXMgd2l0aGluOiAke2Rlc2NyaXB0aW9ufVxuICAgICAgLSBBY3Rpb25hYmxlIHdpdGggY2xlYXIgaW1wbGVtZW50YXRpb24gdmFsdWVcbiAgICAgIC0gQ292ZXIgbXVsdGlwbGUgYnVzaW5lc3MgYXNwZWN0czogbWFya2V0IHBvc2l0aW9uaW5nLCBwcm9kdWN0IGZlYXR1cmVzLCB1c2VyIGV4cGVyaWVuY2UsIG1vbmV0aXphdGlvbiwgdGVjaG5vbG9neSwgY29tcGV0aXRpb24sIHBhcnRuZXJzaGlwc1xuXG4gICAgICBJTVBPUlRBTlQ6IFJldHVybiBhIEpTT04gYXJyYXkgb2Ygc3RyaW5ncyBvbmx5LiBEbyBOT1QgdXNlIG9iamVjdHMgd2l0aCBjYXRlZ29yaWVzLlxuICAgICAgXG4gICAgICBFeGFtcGxlIGZvcm1hdDpcbiAgICAgIFtcbiAgICAgICAgXCJEZXZlbG9wIGluZHVzdHJ5LXNwZWNpZmljIHZlcnNpb25zIG9mICR7dGl0bGV9IHRhaWxvcmVkIGZvciBoZWFsdGhjYXJlIHRvIGFkZHJlc3MgSElQQUEgY29tcGxpYW5jZSBhbmQgY2xpbmljYWwgd29ya2Zsb3cgcmVxdWlyZW1lbnRzXCIsXG4gICAgICAgIFwiSW1wbGVtZW50IGFkdmFuY2VkIEFJLXBvd2VyZWQgcHJlZGljdGl2ZSBhbmFseXRpY3Mgd2l0aGluICR7dGl0bGV9IHRvIHByb3ZpZGUgZm9yZWNhc3RpbmcgY2FwYWJpbGl0aWVzIHRoYXQgY29tcGV0aXRvcnMgY3VycmVudGx5IGxhY2tcIixcbiAgICAgICAgXCJDcmVhdGUgYSBjb21wcmVoZW5zaXZlIG9uYm9hcmRpbmcgZXhwZXJpZW5jZSBmb3IgJHt0aXRsZX0gd2l0aCBpbnRlcmFjdGl2ZSB0dXRvcmlhbHMgYW5kIHByb2dyZXNzaXZlIGZlYXR1cmUgZGlzY292ZXJ5IG92ZXIgNyBkYXlzXCJcbiAgICAgIF1cblxuICAgICAgRWFjaCBzdWdnZXN0aW9uIHNob3VsZCBiZSAxNS0zMCB3b3JkcyBhbmQgY292ZXIgdGhlc2UgY2F0ZWdvcmllczpcbiAgICAgIC0gTWFya2V0IFBvc2l0aW9uaW5nICYgRGlmZmVyZW50aWF0aW9uICgyLTMgc3VnZ2VzdGlvbnMpXG4gICAgICAtIFByb2R1Y3QgRmVhdHVyZXMgJiBGdW5jdGlvbmFsaXR5ICgyLTMgc3VnZ2VzdGlvbnMpIFxuICAgICAgLSBVc2VyIEV4cGVyaWVuY2UgJiBJbnRlcmZhY2UgKDIgc3VnZ2VzdGlvbnMpXG4gICAgICAtIEJ1c2luZXNzIE1vZGVsICYgTW9uZXRpemF0aW9uICgyIHN1Z2dlc3Rpb25zKVxuICAgICAgLSBUZWNobm9sb2d5ICYgUGVyZm9ybWFuY2UgKDEtMiBzdWdnZXN0aW9ucylcbiAgICAgIC0gU3RyYXRlZ2ljIFBhcnRuZXJzaGlwcyAmIEludGVncmF0aW9ucyAoMS0yIHN1Z2dlc3Rpb25zKVxuXG4gICAgICBSZXR1cm4gT05MWSBhIEpTT04gYXJyYXkgb2Ygc3RyaW5ncywgbm90IG9iamVjdHMuIEVhY2ggc3RyaW5nIHNob3VsZCBiZSBhIGNvbXBsZXRlLCBhY3Rpb25hYmxlIHN1Z2dlc3Rpb24uXG4gICAgYDtcblxuICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlV2l0aEZhbGxiYWNrKHByb21wdCk7XG4gICAgXG4gICAgY29uc3QgcmF3UmVzcG9uc2UgPSB0aGlzLnBhcnNlQUlSZXNwb25zZSh0ZXh0LCBbXG4gICAgICBgRGV2ZWxvcCBpbmR1c3RyeS1zcGVjaWZpYyB2ZXJzaW9ucyBvZiAke3RpdGxlfSB0YWlsb3JlZCBmb3IgZGlmZmVyZW50IHZlcnRpY2FscyB0byBhZGRyZXNzIHVuaXF1ZSB3b3JrZmxvdyByZXF1aXJlbWVudHMgYW5kIGNvbXBsaWFuY2UgbmVlZHNgLFxuICAgICAgYEltcGxlbWVudCBhZHZhbmNlZCBBSS1wb3dlcmVkIGZlYXR1cmVzIHdpdGhpbiAke3RpdGxlfSB0byBwcm92aWRlIHByZWRpY3RpdmUgaW5zaWdodHMgYW5kIGF1dG9tYXRpb24gdGhhdCBjb21wZXRpdG9ycyBsYWNrYCxcbiAgICAgIGBDcmVhdGUgYSBjb21wcmVoZW5zaXZlIG9uYm9hcmRpbmcgZXhwZXJpZW5jZSBzcGVjaWZpY2FsbHkgZGVzaWduZWQgZm9yICR7dGl0bGV9IHVzZXJzIHdpdGggaW50ZXJhY3RpdmUgdHV0b3JpYWxzIGFuZCBwcm9ncmVzc2l2ZSBmZWF0dXJlIGRpc2NvdmVyeWAsXG4gICAgICBgSW50cm9kdWNlIGEgc3RyYXRlZ2ljIGZyZWVtaXVtIG1vZGVsIGZvciAke3RpdGxlfSB0aGF0IHNob3djYXNlcyBjb3JlIHZhbHVlIHdoaWxlIGRyaXZpbmcgY29udmVyc2lvbiB0aHJvdWdoIHdlbGwtZGVzaWduZWQgdXBncmFkZSBwYXRoc2AsXG4gICAgICBgQnVpbGQgbmF0aXZlIG1vYmlsZSBhcHBsaWNhdGlvbnMgdGhhdCBlbmFibGUgdXNlcnMgdG8gYWNjZXNzICR7dGl0bGV9IGZ1bmN0aW9uYWxpdHkgb24tdGhlLWdvIHdpdGggb2ZmbGluZSBjYXBhYmlsaXRpZXMgYW5kIHJlYWwtdGltZSBzeW5jYCxcbiAgICAgIGBFc3RhYmxpc2ggcGFydG5lcnNoaXBzIHdpdGggY29tcGxlbWVudGFyeSBwbGF0Zm9ybXMgdG8gY3JlYXRlIHNlYW1sZXNzIGludGVncmF0aW9ucyB0aGF0IG1ha2UgJHt0aXRsZX0gZXNzZW50aWFsIGluIHVzZXJzJyBkYWlseSB3b3JrZmxvd3NgLFxuICAgICAgYEltcGxlbWVudCBhZHZhbmNlZCBhbmFseXRpY3MgYW5kIHJlcG9ydGluZyBmZWF0dXJlcyB0aGF0IGhlbHAgJHt0aXRsZX0gdXNlcnMgbWVhc3VyZSBST0kgYW5kIGRlbW9uc3RyYXRlIHZhbHVlIHRvIHN0YWtlaG9sZGVyc2AsXG4gICAgICBgRGV2ZWxvcCB3aGl0ZS1sYWJlbCBzb2x1dGlvbnMgdGhhdCBhbGxvdyBwYXJ0bmVycyB0byByZWJyYW5kIGFuZCByZXNlbGwgJHt0aXRsZX0gY2FwYWJpbGl0aWVzIHRvIHRoZWlyIG93biBjdXN0b21lciBiYXNlc2AsXG4gICAgICBgQ3JlYXRlIGFuIEFQSSBlY29zeXN0ZW0gYXJvdW5kICR7dGl0bGV9IHRoYXQgZW5hYmxlcyB0aGlyZC1wYXJ0eSBkZXZlbG9wZXJzIHRvIGJ1aWxkIGV4dGVuc2lvbnMgYW5kIGN1c3RvbSBpbnRlZ3JhdGlvbnNgLFxuICAgICAgYEFkZCBlbnRlcnByaXNlLWdyYWRlIHNlY3VyaXR5IGZlYXR1cmVzIGluY2x1ZGluZyBTU08sIGF1ZGl0IHRyYWlscywgYW5kIGNvbXBsaWFuY2UgY2VydGlmaWNhdGlvbnMgdG8gYXBwZWFsIHRvIGxhcmdlciBvcmdhbml6YXRpb25zYFxuICAgIF0pO1xuXG4gICAgLy8gU2FmZWd1YXJkOiBDb252ZXJ0IG9iamVjdHMgdG8gc3RyaW5ncyBpZiBBSSByZXR1cm5lZCBvYmplY3RzIGluc3RlYWQgb2Ygc3RyaW5nc1xuICAgIGlmIChBcnJheS5pc0FycmF5KHJhd1Jlc3BvbnNlKSkge1xuICAgICAgcmV0dXJuIHJhd1Jlc3BvbnNlLm1hcCgoaXRlbTogYW55KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgKGl0ZW0uc3VnZ2VzdGlvbiB8fCBpdGVtLnRleHQgfHwgaXRlbS5kZXNjcmlwdGlvbikpIHtcbiAgICAgICAgICAvLyBFeHRyYWN0IHN1Z2dlc3Rpb24gdGV4dCBmcm9tIG9iamVjdCBpZiBBSSByZXR1cm5lZCBvYmplY3RzXG4gICAgICAgICAgcmV0dXJuIGl0ZW0uc3VnZ2VzdGlvbiB8fCBpdGVtLnRleHQgfHwgaXRlbS5kZXNjcmlwdGlvbiB8fCBTdHJpbmcoaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyhpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByYXdSZXNwb25zZTtcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlQ29yZUZlYXR1cmVzKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBQcm9taXNlPENvcmVGZWF0dXJlW10+IHtcbiAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICBCYXNlZCBvbiB0aGlzIFNhYVMgaWRlYSwgaWRlbnRpZnkgNS03IGNvcmUgTVZQIGZlYXR1cmVzOlxuICAgICAgVGl0bGU6ICR7dGl0bGV9XG4gICAgICBEZXNjcmlwdGlvbjogJHtkZXNjcmlwdGlvbn1cblxuICAgICAgUmV0dXJuIGEgSlNPTiBhcnJheSB3aXRoIG9iamVjdHMgY29udGFpbmluZzogdGl0bGUsIGRlc2NyaXB0aW9uLCBwcmlvcml0eSAoSGlnaC9NZWRpdW0vTG93KVxuICAgICAgRXhhbXBsZTogW3tcInRpdGxlXCI6IFwiU2FhUyBJZGVhIHZhbGlkYXRpb24gYW5kIHNjb3Jpbmcgc3lzdGVtXCIsIFwiZGVzY3JpcHRpb25cIjogXCJDb3JlIGZlYXR1cmUgZGVzY3JpcHRpb25cIiwgXCJwcmlvcml0eVwiOiBcIkhpZ2hcIn1dXG4gICAgYDtcblxuICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlV2l0aEZhbGxiYWNrKHByb21wdCk7XG4gICAgXG4gICAgcmV0dXJuIHRoaXMucGFyc2VBSVJlc3BvbnNlKHRleHQsIFtcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdTYWFTIElkZWEgdmFsaWRhdGlvbiBhbmQgc2NvcmluZyBzeXN0ZW0nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvcmUgdmFsaWRhdGlvbiBzeXN0ZW0gd2l0aCBzY29yaW5nJyxcbiAgICAgICAgcHJpb3JpdHk6ICdIaWdoJyBhcyBjb25zdCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnSW50ZXJhY3RpdmUgcHJvamVjdCBwbGFubmluZyB3aXRoIEFJIHJlY29tbWVuZGF0aW9ucycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQUktcG93ZXJlZCBwcm9qZWN0IHBsYW5uaW5nIGZlYXR1cmVzJyxcbiAgICAgICAgcHJpb3JpdHk6ICdIaWdoJyBhcyBjb25zdCxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cblxuICBhc3luYyBnZW5lcmF0ZVRlY2hTdGFjayh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxUZWNoU3RhY2tJdGVtW10+IHtcbiAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICBDcmVhdGUgYSBjb21wcmVoZW5zaXZlIHRlY2huaWNhbCBhcmNoaXRlY3R1cmUgcmVjb21tZW5kYXRpb24gZm9yIHRoaXMgU2FhUzpcbiAgICAgIFRpdGxlOiAke3RpdGxlfVxuICAgICAgRGVzY3JpcHRpb246ICR7ZGVzY3JpcHRpb259XG5cbiAgICAgIEFuYWx5emUgdGhlIHRlY2huaWNhbCByZXF1aXJlbWVudHMgYmFzZWQgb24gdGhlIHNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgZGVzY3JpYmVkIGluOiAke2Rlc2NyaXB0aW9ufVxuICAgICAgQ29uc2lkZXIgc2NhbGFiaWxpdHksIHBlcmZvcm1hbmNlLCBzZWN1cml0eSwgYW5kIGludGVncmF0aW9uIG5lZWRzIGZvciAke3RpdGxlfVxuXG4gICAgICBSZXR1cm4gYSBKU09OIGFycmF5IG9mIG9iamVjdHMgd2l0aCBjYXRlZ29yeSBhbmQgZGV0YWlsZWQgdGVjaG5vbG9naWVzIGFycmF5LlxuICAgICAgXG4gICAgICBSZXF1aXJlZCBjYXRlZ29yaWVzIHdpdGggNC04IHRlY2hub2xvZ2llcyBlYWNoOlxuICAgICAgMS4gXCJGcm9udGVuZCBEZXZlbG9wbWVudFwiIC0gVUkgZnJhbWV3b3Jrcywgc3R5bGluZywgc3RhdGUgbWFuYWdlbWVudCwgYnVpbGQgdG9vbHNcbiAgICAgIDIuIFwiQmFja2VuZCBBcmNoaXRlY3R1cmVcIiAtIEFQSSBmcmFtZXdvcmtzLCBzZXJ2ZXIgdGVjaG5vbG9naWVzLCBtaWNyb3NlcnZpY2VzLCBhdXRoZW50aWNhdGlvblxuICAgICAgMy4gXCJEYXRhYmFzZSAmIFN0b3JhZ2VcIiAtIFByaW1hcnkgZGF0YWJhc2UsIGNhY2hpbmcsIGZpbGUgc3RvcmFnZSwgZGF0YSB3YXJlaG91c2VcbiAgICAgIDQuIFwiQ2xvdWQgSW5mcmFzdHJ1Y3R1cmVcIiAtIEhvc3RpbmcsIENETiwgY29udGFpbmVyIG9yY2hlc3RyYXRpb24sIHNlcnZlcmxlc3MgZnVuY3Rpb25zXG4gICAgICA1LiBcIkRldk9wcyAmIE1vbml0b3JpbmdcIiAtIENJL0NELCBtb25pdG9yaW5nLCBsb2dnaW5nLCBlcnJvciB0cmFja2luZywgcGVyZm9ybWFuY2VcbiAgICAgIDYuIFwiU2VjdXJpdHkgJiBDb21wbGlhbmNlXCIgLSBBdXRoZW50aWNhdGlvbiwgYXV0aG9yaXphdGlvbiwgZW5jcnlwdGlvbiwgY29tcGxpYW5jZSB0b29sc1xuICAgICAgNy4gXCJJbnRlZ3JhdGlvbiAmIEFQSXNcIiAtIFRoaXJkLXBhcnR5IHNlcnZpY2VzLCBwYXltZW50IHByb2Nlc3NpbmcsIGNvbW11bmljYXRpb24gQVBJc1xuICAgICAgOC4gXCJBbmFseXRpY3MgJiBJbnRlbGxpZ2VuY2VcIiAtIEJ1c2luZXNzIGludGVsbGlnZW5jZSwgdXNlciBhbmFseXRpY3MsIEEvQiB0ZXN0aW5nLCBtYWNoaW5lIGxlYXJuaW5nXG5cbiAgICAgIEVhY2ggdGVjaG5vbG9neSBzaG91bGQgYmUgcmVsZXZhbnQgdG8gdGhlIHNwZWNpZmljIG5lZWRzIG9mICR7dGl0bGV9IGFuZCB0aGUgZnVuY3Rpb25hbGl0eSBkZXNjcmliZWQuXG4gICAgICBDb25zaWRlciBib3RoIGN1cnJlbnQgTVZQIG5lZWRzIGFuZCBmdXR1cmUgc2NhbGluZyByZXF1aXJlbWVudHMuXG5cbiAgICAgIEV4YW1wbGUgZm9ybWF0OlxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgXCJjYXRlZ29yeVwiOiBcIkZyb250ZW5kIERldmVsb3BtZW50XCIsXG4gICAgICAgICAgXCJ0ZWNobm9sb2dpZXNcIjogW1wiTmV4dC5qcyAxNCB3aXRoIEFwcCBSb3V0ZXJcIiwgXCJSZWFjdCAxOCB3aXRoIFR5cGVTY3JpcHRcIiwgXCJUYWlsd2luZCBDU1Mgd2l0aCBIZWFkbGVzcyBVSVwiLCBcIlp1c3RhbmQgZm9yIHN0YXRlIG1hbmFnZW1lbnRcIiwgXCJSZWFjdCBRdWVyeSBmb3Igc2VydmVyIHN0YXRlXCIsIFwiRnJhbWVyIE1vdGlvbiBmb3IgYW5pbWF0aW9uc1wiXVxuICAgICAgICB9XG4gICAgICBdXG4gICAgYDtcblxuICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlV2l0aEZhbGxiYWNrKHByb21wdCk7XG4gICAgXG4gICAgcmV0dXJuIHRoaXMucGFyc2VBSVJlc3BvbnNlKHRleHQsIFtcbiAgICAgIHsgXG4gICAgICAgIGNhdGVnb3J5OiAnRnJvbnRlbmQgRGV2ZWxvcG1lbnQnLCBcbiAgICAgICAgdGVjaG5vbG9naWVzOiBbJ05leHQuanMgMTQgd2l0aCBBcHAgUm91dGVyJywgJ1JlYWN0IDE4IHdpdGggVHlwZVNjcmlwdCcsICdUYWlsd2luZCBDU1Mgd2l0aCBIZWFkbGVzcyBVSScsICdadXN0YW5kIGZvciBzdGF0ZSBtYW5hZ2VtZW50JywgJ1JlYWN0IFF1ZXJ5IGZvciBzZXJ2ZXIgc3RhdGUnLCAnRnJhbWVyIE1vdGlvbiBmb3IgYW5pbWF0aW9ucycsICdSZWFjdCBIb29rIEZvcm0gZm9yIGZvcm0gaGFuZGxpbmcnLCAnUmVjaGFydHMgZm9yIGRhdGEgdmlzdWFsaXphdGlvbiddIFxuICAgICAgfSxcbiAgICAgIHsgXG4gICAgICAgIGNhdGVnb3J5OiAnQmFja2VuZCBBcmNoaXRlY3R1cmUnLCBcbiAgICAgICAgdGVjaG5vbG9naWVzOiBbJ05vZGUuanMgd2l0aCBFeHByZXNzLmpzJywgJ1R5cGVTY3JpcHQgZm9yIHR5cGUgc2FmZXR5JywgJ0dyYXBoUUwgd2l0aCBBcG9sbG8gU2VydmVyJywgJ0pXVCBhdXRoZW50aWNhdGlvbiB3aXRoIHJlZnJlc2ggdG9rZW5zJywgJ1JhdGUgbGltaXRpbmcgd2l0aCBSZWRpcycsICdCYWNrZ3JvdW5kIGpvYiBwcm9jZXNzaW5nIHdpdGggQnVsbCBRdWV1ZScsICdXZWJTb2NrZXQgc3VwcG9ydCB3aXRoIFNvY2tldC5pbycsICdBUEkgZG9jdW1lbnRhdGlvbiB3aXRoIFN3YWdnZXIvT3BlbkFQSSddIFxuICAgICAgfSxcbiAgICAgIHsgXG4gICAgICAgIGNhdGVnb3J5OiAnRGF0YWJhc2UgJiBTdG9yYWdlJywgXG4gICAgICAgIHRlY2hub2xvZ2llczogWydQb3N0Z3JlU1FMIGFzIHByaW1hcnkgZGF0YWJhc2UnLCAnUmVkaXMgZm9yIGNhY2hpbmcgYW5kIHNlc3Npb25zJywgJ1ByaXNtYSBPUk0gZm9yIGRhdGFiYXNlIG1hbmFnZW1lbnQnLCAnQVdTIFMzIGZvciBmaWxlIHN0b3JhZ2UnLCAnQ2xvdWRGcm9udCBDRE4gZm9yIGFzc2V0IGRlbGl2ZXJ5JywgJ0RhdGFiYXNlIG1pZ3JhdGlvbnMgd2l0aCBGbHl3YXknLCAnQmFja3VwIGF1dG9tYXRpb24gd2l0aCBwZ19kdW1wJ10gXG4gICAgICB9LFxuICAgICAgeyBcbiAgICAgICAgY2F0ZWdvcnk6ICdDbG91ZCBJbmZyYXN0cnVjdHVyZScsIFxuICAgICAgICB0ZWNobm9sb2dpZXM6IFsnQVdTIEVDUyB3aXRoIEZhcmdhdGUgZm9yIGNvbnRhaW5lcml6YXRpb24nLCAnQXBwbGljYXRpb24gTG9hZCBCYWxhbmNlciBmb3IgdHJhZmZpYyBkaXN0cmlidXRpb24nLCAnQVdTIFJEUyBmb3IgbWFuYWdlZCBQb3N0Z3JlU1FMJywgJ0FXUyBFbGFzdGlDYWNoZSBmb3IgUmVkaXMnLCAnQVdTIExhbWJkYSBmb3Igc2VydmVybGVzcyBmdW5jdGlvbnMnLCAnQW1hem9uIENsb3VkV2F0Y2ggZm9yIG1vbml0b3JpbmcnLCAnQVdTIFZQQyBmb3IgbmV0d29yayBzZWN1cml0eSddIFxuICAgICAgfSxcbiAgICAgIHsgXG4gICAgICAgIGNhdGVnb3J5OiAnRGV2T3BzICYgTW9uaXRvcmluZycsIFxuICAgICAgICB0ZWNobm9sb2dpZXM6IFsnR2l0SHViIEFjdGlvbnMgZm9yIENJL0NEJywgJ0RvY2tlciBmb3IgY29udGFpbmVyaXphdGlvbicsICdUZXJyYWZvcm0gZm9yIGluZnJhc3RydWN0dXJlIGFzIGNvZGUnLCAnRGF0YURvZyBmb3IgYXBwbGljYXRpb24gbW9uaXRvcmluZycsICdTZW50cnkgZm9yIGVycm9yIHRyYWNraW5nJywgJ0xvZ1JvY2tldCBmb3Igc2Vzc2lvbiByZXBsYXknLCAnTmV3IFJlbGljIGZvciBwZXJmb3JtYW5jZSBtb25pdG9yaW5nJywgJ1NvbmFyUXViZSBmb3IgY29kZSBxdWFsaXR5J10gXG4gICAgICB9LFxuICAgICAgeyBcbiAgICAgICAgY2F0ZWdvcnk6ICdTZWN1cml0eSAmIENvbXBsaWFuY2UnLCBcbiAgICAgICAgdGVjaG5vbG9naWVzOiBbJ09BdXRoIDIuMCB3aXRoIE9JREMgZm9yIGF1dGhlbnRpY2F0aW9uJywgJ0F1dGgwIGZvciBpZGVudGl0eSBtYW5hZ2VtZW50JywgJ0FXUyBJQU0gZm9yIGFjY2VzcyBjb250cm9sJywgJ1NTTC9UTFMgZW5jcnlwdGlvbiB3aXRoIExldFxcJ3MgRW5jcnlwdCcsICdPV0FTUCBzZWN1cml0eSBzY2FubmluZycsICdTT0MgMiBjb21wbGlhbmNlIHRvb2xzJywgJ0dEUFIgY29tcGxpYW5jZSBhdXRvbWF0aW9uJywgJ1BlbmV0cmF0aW9uIHRlc3Rpbmcgd2l0aCBPV0FTUCBaQVAnXSBcbiAgICAgIH0sXG4gICAgICB7IFxuICAgICAgICBjYXRlZ29yeTogJ0ludGVncmF0aW9uICYgQVBJcycsIFxuICAgICAgICB0ZWNobm9sb2dpZXM6IFsnU3RyaXBlIGZvciBwYXltZW50IHByb2Nlc3NpbmcnLCAnU2VuZEdyaWQgZm9yIGVtYWlsIGRlbGl2ZXJ5JywgJ1R3aWxpbyBmb3IgU01TIG5vdGlmaWNhdGlvbnMnLCAnWmFwaWVyIGZvciB3b3JrZmxvdyBhdXRvbWF0aW9uJywgJ1JFU1QgYW5kIEdyYXBoUUwgQVBJcycsICdXZWJob29rIG1hbmFnZW1lbnQgc3lzdGVtJywgJ1RoaXJkLXBhcnR5IEFQSSByYXRlIGxpbWl0aW5nJywgJ0FQSSB2ZXJzaW9uaW5nIHN0cmF0ZWd5J10gXG4gICAgICB9LFxuICAgICAgeyBcbiAgICAgICAgY2F0ZWdvcnk6ICdBbmFseXRpY3MgJiBJbnRlbGxpZ2VuY2UnLCBcbiAgICAgICAgdGVjaG5vbG9naWVzOiBbJ0dvb2dsZSBBbmFseXRpY3MgNCBmb3Igd2ViIGFuYWx5dGljcycsICdNaXhwYW5lbCBmb3IgcHJvZHVjdCBhbmFseXRpY3MnLCAnQW1wbGl0dWRlIGZvciB1c2VyIGJlaGF2aW9yIHRyYWNraW5nJywgJ0EvQiB0ZXN0aW5nIHdpdGggT3B0aW1pemVseScsICdCdXNpbmVzcyBpbnRlbGxpZ2VuY2Ugd2l0aCBUYWJsZWF1JywgJ01hY2hpbmUgbGVhcm5pbmcgd2l0aCBUZW5zb3JGbG93LmpzJywgJ0RhdGEgcGlwZWxpbmUgd2l0aCBBcGFjaGUgQWlyZmxvdycsICdSZWFsLXRpbWUgYW5hbHl0aWNzIHdpdGggQXBhY2hlIEthZmthJ10gXG4gICAgICB9XG4gICAgXSk7XG4gIH1cblxuICBhc3luYyBnZW5lcmF0ZVByaWNpbmdNb2RlbCh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxQcmljaW5nVGllcltdPiB7XG4gICAgY29uc3QgcHJvbXB0ID0gYFxuICAgICAgQ3JlYXRlIGEgY29tcHJlaGVuc2l2ZSA0LXRpZXIgcHJpY2luZyBzdHJhdGVneSBmb3IgdGhpcyBTYWFTOlxuICAgICAgVGl0bGU6ICR7dGl0bGV9XG4gICAgICBEZXNjcmlwdGlvbjogJHtkZXNjcmlwdGlvbn1cblxuICAgICAgUmV0dXJuIGEgSlNPTiBhcnJheSBvZiBleGFjdGx5IDQgcHJpY2luZyB0aWVycyB3aXRoIHRoaXMgc3RydWN0dXJlOlxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiU3RhcnRlclwiLFxuICAgICAgICAgIFwicHJpY2VcIjogXCIkMjkvbW9cIixcbiAgICAgICAgICBcImZlYXR1cmVzXCI6IFtcIkZlYXR1cmUgMVwiLCBcIkZlYXR1cmUgMlwiLCBcIkZlYXR1cmUgM1wiLCBcIkZlYXR1cmUgNFwiLCBcIkZlYXR1cmUgNVwiXSxcbiAgICAgICAgICBcInJlY29tbWVuZGVkXCI6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJQcm9mZXNzaW9uYWxcIixcbiAgICAgICAgICBcInByaWNlXCI6IFwiJDc5L21vXCIsIFxuICAgICAgICAgIFwiZmVhdHVyZXNcIjogW1wiRXZlcnl0aGluZyBpbiBTdGFydGVyXCIsIFwiQWR2YW5jZWQgZmVhdHVyZSAxXCIsIFwiQWR2YW5jZWQgZmVhdHVyZSAyXCIsIFwiQWR2YW5jZWQgZmVhdHVyZSAzXCIsIFwiQWR2YW5jZWQgZmVhdHVyZSA0XCJdLFxuICAgICAgICAgIFwicmVjb21tZW5kZWRcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiRW50ZXJwcmlzZVwiLFxuICAgICAgICAgIFwicHJpY2VcIjogXCIkMTk5L21vXCIsXG4gICAgICAgICAgXCJmZWF0dXJlc1wiOiBbXCJFdmVyeXRoaW5nIGluIFByb2Zlc3Npb25hbFwiLCBcIkVudGVycHJpc2UgZmVhdHVyZSAxXCIsIFwiRW50ZXJwcmlzZSBmZWF0dXJlIDJcIiwgXCJFbnRlcnByaXNlIGZlYXR1cmUgM1wiXSxcbiAgICAgICAgICBcInJlY29tbWVuZGVkXCI6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJDdXN0b21cIixcbiAgICAgICAgICBcInByaWNlXCI6IFwiQ29udGFjdCB1c1wiLFxuICAgICAgICAgIFwiZmVhdHVyZXNcIjogW1wiRXZlcnl0aGluZyBpbiBFbnRlcnByaXNlXCIsIFwiQ3VzdG9tIGludGVncmF0aW9uc1wiLCBcIkRlZGljYXRlZCBzdXBwb3J0XCIsIFwiU0xBIGd1YXJhbnRlZVwiXSxcbiAgICAgICAgICBcInJlY29tbWVuZGVkXCI6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIF1cblxuICAgICAgQ3JlYXRlIGV4YWN0bHkgNCB0aWVyczogU3RhcnRlciwgUHJvZmVzc2lvbmFsIChyZWNvbW1lbmRlZCksIEVudGVycHJpc2UsIGFuZCBDdXN0b20uIEVhY2ggdGllciBzaG91bGQgaGF2ZSA0LTYgc3BlY2lmaWMgZmVhdHVyZXMgcmVsZXZhbnQgdG8gJHt0aXRsZX0uXG4gICAgYDtcblxuICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlV2l0aEZhbGxiYWNrKHByb21wdCk7XG4gICAgXG4gICAgcmV0dXJuIHRoaXMucGFyc2VBSVJlc3BvbnNlKHRleHQsIFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1N0YXJ0ZXInLFxuICAgICAgICBwcmljZTogJyQyOS9tbycsXG4gICAgICAgIGZlYXR1cmVzOiBbYEJhc2ljICR7dGl0bGV9IGZ1bmN0aW9uYWxpdHlgLCAnQ29yZSBmZWF0dXJlcyBmb3IgZ2V0dGluZyBzdGFydGVkJywgJ0VtYWlsIHN1cHBvcnQnLCAnU3RhbmRhcmQgaW50ZWdyYXRpb25zJywgJ01vYmlsZSBhcHAgYWNjZXNzJywgJ0Jhc2ljIGFuYWx5dGljcyddLFxuICAgICAgICByZWNvbW1lbmRlZDogZmFsc2UsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnUHJvZmVzc2lvbmFsJywgXG4gICAgICAgIHByaWNlOiAnJDc5L21vJyxcbiAgICAgICAgZmVhdHVyZXM6IFsnRXZlcnl0aGluZyBpbiBTdGFydGVyJywgYEFkdmFuY2VkICR7dGl0bGV9IGZlYXR1cmVzYCwgYEVuaGFuY2VkIGFuYWx5dGljcyBmb3IgJHt0aXRsZX1gLCAnUHJpb3JpdHkgc3VwcG9ydCcsICdBUEkgYWNjZXNzJywgJ0FkdmFuY2VkIGludGVncmF0aW9ucycsICdUZWFtIGNvbGxhYm9yYXRpb24nLCAnQ3VzdG9tIGJyYW5kaW5nJ10sXG4gICAgICAgIHJlY29tbWVuZGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0VudGVycHJpc2UnLFxuICAgICAgICBwcmljZTogJyQxOTkvbW8nLFxuICAgICAgICBmZWF0dXJlczogWydFdmVyeXRoaW5nIGluIFByb2Zlc3Npb25hbCcsIGBFbnRlcnByaXNlICR7dGl0bGV9IGZlYXR1cmVzYCwgJ0RlZGljYXRlZCBzdXBwb3J0JywgJ0N1c3RvbSBpbnRlZ3JhdGlvbnMnLCAnQWR2YW5jZWQgc2VjdXJpdHknLCAnU0xBIGd1YXJhbnRlZScsICdVbmxpbWl0ZWQgdXNlcnMnLCAnV2hpdGUtbGFiZWwgb3B0aW9ucyddLFxuICAgICAgICByZWNvbW1lbmRlZDogZmFsc2UsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnQ3VzdG9tJyxcbiAgICAgICAgcHJpY2U6ICdDb250YWN0IHVzJyxcbiAgICAgICAgZmVhdHVyZXM6IFsnRXZlcnl0aGluZyBpbiBFbnRlcnByaXNlJywgYEN1c3RvbSAke3RpdGxlfSBkZXZlbG9wbWVudGAsICdPbi1wcmVtaXNlIGRlcGxveW1lbnQnLCAnMjQvNyBkZWRpY2F0ZWQgc3VwcG9ydCcsICdQcm9mZXNzaW9uYWwgc2VydmljZXMnLCAnQ3VzdG9tIFNMQSddLFxuICAgICAgICByZWNvbW1lbmRlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVVc2VyRmxvdyh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIGNvbnN0IHByb21wdCA9IGBcbiAgICAgIENyZWF0ZSBhIGNvbXByZWhlbnNpdmUsIGRldGFpbGVkIHVzZXIgZmxvdyBmb3IgdGhpcyBTYWFTIGFwcGxpY2F0aW9uOlxuICAgICAgVGl0bGU6ICR7dGl0bGV9XG4gICAgICBEZXNjcmlwdGlvbjogJHtkZXNjcmlwdGlvbn1cblxuICAgICAgRGVzaWduIGEgY29tcGxldGUgdXNlciBqb3VybmV5IHRoYXQgY292ZXJzIHRoZSBlbnRpcmUgdXNlciBleHBlcmllbmNlIGZyb20gZGlzY292ZXJ5IHRvIG9uZ29pbmcgdXNhZ2UuXG4gICAgICBDb25zaWRlciB0aGUgc3BlY2lmaWMgZnVuY3Rpb25hbGl0eSBkZXNjcmliZWQgaW46ICR7ZGVzY3JpcHRpb259XG4gICAgICBNYXAgb3V0IHVzZXIgaW50ZXJhY3Rpb25zIHRoYXQgYXJlIGRpcmVjdGx5IHJlbGV2YW50IHRvICR7dGl0bGV9IGFuZCBpdHMgY29yZSB2YWx1ZSBwcm9wb3NpdGlvbi5cblxuICAgICAgQ3JlYXRlIDEyLTE4IGRldGFpbGVkIHN0ZXBzIHRoYXQgaW5jbHVkZTpcbiAgICAgIDEuIERpc2NvdmVyeSAmIExhbmRpbmcgKDItMyBzdGVwcylcbiAgICAgIDIuIFJlZ2lzdHJhdGlvbiAmIE9uYm9hcmRpbmcgKDMtNCBzdGVwcylcbiAgICAgIDMuIENvcmUgRmVhdHVyZSBVc2FnZSAoNC02IHN0ZXBzKVxuICAgICAgNC4gVmFsdWUgUmVhbGl6YXRpb24gKDItMyBzdGVwcylcbiAgICAgIDUuIEFkdmFuY2VkIEZlYXR1cmVzICYgR3Jvd3RoICgyLTMgc3RlcHMpXG4gICAgICA2LiBPbmdvaW5nIEVuZ2FnZW1lbnQgKDEtMiBzdGVwcylcblxuICAgICAgRWFjaCBzdGVwIHNob3VsZCBiZTpcbiAgICAgIC0gU3BlY2lmaWMgdG8gdGhlICR7dGl0bGV9IHVzZXIgZXhwZXJpZW5jZVxuICAgICAgLSBBY3Rpb25hYmxlIGFuZCBjbGVhciBhYm91dCB3aGF0IHRoZSB1c2VyIGRvZXNcbiAgICAgIC0gRm9jdXNlZCBvbiB0aGUgY29yZSBmdW5jdGlvbmFsaXR5IGRlc2NyaWJlZCBpbiB0aGUgU2FhUyBkZXNjcmlwdGlvblxuICAgICAgLSBQcm9ncmVzc2l2ZSwgYnVpbGRpbmcgZnJvbSBzaW1wbGUgdG8gYWR2YW5jZWQgdXNhZ2VcbiAgICAgIC0gSW5jbHVkZSBkZWNpc2lvbiBwb2ludHMgYW5kIHVzZXIgb3V0Y29tZXNcblxuICAgICAgUmV0dXJuIGEgSlNPTiBhcnJheSBvZiBzdHJpbmdzLiBFYWNoIHN0ZXAgc2hvdWxkIGJlIGRldGFpbGVkICgxMC0yMCB3b3JkcykgYW5kIHNwZWNpZmljIHRvIHRoaXMgU2FhUyBjb25jZXB0LlxuXG4gICAgICBDb25zaWRlciBkaWZmZXJlbnQgdXNlciBwZXJzb25hcyBhbmQgdXNlIGNhc2VzIHRoYXQgd291bGQgaW50ZXJhY3Qgd2l0aCAke3RpdGxlfSBiYXNlZCBvbiBpdHMgaW50ZW5kZWQgZnVuY3Rpb25hbGl0eS5cbiAgICBgO1xuXG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVXaXRoRmFsbGJhY2socHJvbXB0KTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5wYXJzZUFJUmVzcG9uc2UodGV4dCwgW1xuICAgICAgYFVzZXIgZGlzY292ZXJzICR7dGl0bGV9IHRocm91Z2ggdGFyZ2V0ZWQgc2VhcmNoIG9yIHJlZmVycmFsIGFuZCBsYW5kcyBvbiB0aGUgdmFsdWUtZm9jdXNlZCBob21lcGFnZWAsXG4gICAgICAnVXNlciBleHBsb3JlcyB0aGUgZGVtbyBvciBpbnRlcmFjdGl2ZSBzaG93Y2FzZSB0byB1bmRlcnN0YW5kIGNvcmUgY2FwYWJpbGl0aWVzIGFuZCBwb3RlbnRpYWwgUk9JJyxcbiAgICAgICdVc2VyIGNsaWNrcyB0aGUgcHJpbWFyeSBjYWxsLXRvLWFjdGlvbiBhbmQgYmVnaW5zIHRoZSBzdHJlYW1saW5lZCByZWdpc3RyYXRpb24gcHJvY2VzcycsXG4gICAgICAnVXNlciBjb21wbGV0ZXMgYWNjb3VudCBzZXR1cCB3aXRoIHJvbGUtYmFzZWQgb25ib2FyZGluZyBxdWVzdGlvbnMgdG8gcGVyc29uYWxpemUgdGhlaXIgZXhwZXJpZW5jZScsXG4gICAgICAnVXNlciBnb2VzIHRocm91Z2ggYW4gaW50ZXJhY3RpdmUgdHV0b3JpYWwgdGhhdCBkZW1vbnN0cmF0ZXMga2V5IGZlYXR1cmVzIHVzaW5nIHNhbXBsZSBkYXRhJyxcbiAgICAgIGBVc2VyIGltcG9ydHMgb3IgY29ubmVjdHMgdGhlaXIgZXhpc3RpbmcgZGF0YSBzb3VyY2VzIHRvIGJlZ2luIHVzaW5nICR7dGl0bGV9IHdpdGggcmVhbCBpbmZvcm1hdGlvbmAsXG4gICAgICAnVXNlciBjb25maWd1cmVzIGluaXRpYWwgc2V0dGluZ3MgYW5kIHByZWZlcmVuY2VzIGJhc2VkIG9uIHRoZWlyIHNwZWNpZmljIHdvcmtmbG93IHJlcXVpcmVtZW50cycsXG4gICAgICBgVXNlciBwZXJmb3JtcyB0aGVpciBmaXJzdCBjb3JlIGFjdGlvbiB1c2luZyAke3RpdGxlfSBtYWluIGZ1bmN0aW9uYWxpdHkgYXMgZGVzY3JpYmVkIGluIHRoZSB1c2UgY2FzZWAsXG4gICAgICAnVXNlciByZXZpZXdzIHRoZSByZXN1bHRzLCBpbnNpZ2h0cywgb3Igb3V0cHV0cyBnZW5lcmF0ZWQgYnkgdGhlIHN5c3RlbSBhbmQgdmFsaWRhdGVzIGFjY3VyYWN5JyxcbiAgICAgICdVc2VyIGV4cGxvcmVzIGFkZGl0aW9uYWwgZmVhdHVyZXMgYW5kIHRvb2xzIHRoYXQgY29tcGxlbWVudCB0aGVpciBwcmltYXJ5IHdvcmtmbG93JyxcbiAgICAgICdVc2VyIGludml0ZXMgdGVhbSBtZW1iZXJzIG9yIGNvbGxhYm9yYXRvcnMgdG8gam9pbiB0aGVpciB3b3Jrc3BhY2UgYW5kIGFzc2lnbnMgYXBwcm9wcmlhdGUgcGVybWlzc2lvbnMnLFxuICAgICAgJ1VzZXIgc2V0cyB1cCBhdXRvbWF0ZWQgd29ya2Zsb3dzLCBub3RpZmljYXRpb25zLCBvciByZWN1cnJpbmcgcHJvY2Vzc2VzIHRvIG1heGltaXplIGVmZmljaWVuY3knLFxuICAgICAgJ1VzZXIgYWNjZXNzZXMgYWR2YW5jZWQgYW5hbHl0aWNzIGFuZCByZXBvcnRpbmcgdG8gbWVhc3VyZSBpbXBhY3QgYW5kIGRlbW9uc3RyYXRlIHZhbHVlIHRvIHN0YWtlaG9sZGVycycsXG4gICAgICAnVXNlciBpbnRlZ3JhdGVzIHdpdGggZXhpc3RpbmcgdG9vbHMgYW5kIHBsYXRmb3JtcyBpbiB0aGVpciB0ZWNoIHN0YWNrIHRocm91Z2ggbmF0aXZlIGNvbm5lY3RvcnMnLFxuICAgICAgJ1VzZXIgdXBncmFkZXMgdG8gYSBoaWdoZXItdGllciBwbGFuIHRvIGFjY2VzcyBwcmVtaXVtIGZlYXR1cmVzIGFuZCBpbmNyZWFzZWQgdXNhZ2UgbGltaXRzJyxcbiAgICAgICdVc2VyIGJlY29tZXMgYSBwb3dlciB1c2VyLCBsZXZlcmFnaW5nIEFQSSBhY2Nlc3MgYW5kIGFkdmFuY2VkIGN1c3RvbWl6YXRpb24gb3B0aW9ucycsXG4gICAgICAnVXNlciByZWZlcnMgY29sbGVhZ3VlcyBvciBvdGhlciBjb21wYW5pZXMsIHBhcnRpY2lwYXRpbmcgaW4gcmVmZXJyYWwgcHJvZ3JhbXMgYW5kIGNvbW11bml0eSBmZWF0dXJlcycsXG4gICAgICAnVXNlciBlbmdhZ2VzIHdpdGggb25nb2luZyBzdXBwb3J0LCB0cmFpbmluZyByZXNvdXJjZXMsIGFuZCBwcm9kdWN0IHVwZGF0ZXMgdG8gb3B0aW1pemUgdXNhZ2UnXG4gICAgXSk7XG4gIH1cblxuICBhc3luYyBnZW5lcmF0ZU1WUEthbmJhbih0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxNVlBLYW5iYW4+IHtcbiAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICBDcmVhdGUgTVZQIGRldmVsb3BtZW50IHRpY2tldHMgb3JnYW5pemVkIGJ5IHByaW9yaXR5IGZvciB0aGlzIFNhYVM6XG4gICAgICBUaXRsZTogJHt0aXRsZX1cbiAgICAgIERlc2NyaXB0aW9uOiAke2Rlc2NyaXB0aW9ufVxuXG4gICAgICBSZXR1cm4gYSBKU09OIG9iamVjdCB3aXRoIHRoaXMgc3RydWN0dXJlOlxuICAgICAge1xuICAgICAgICBcImhpZ2hcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJDcml0aWNhbCB0YXNrIHRpdGxlXCIsXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiRGV0YWlsZWQgZGVzY3JpcHRpb24gb2YgY3JpdGljYWwgdGFza1wiLFxuICAgICAgICAgICAgXCJwcmlvcml0eVwiOiBcIkhpZ2hcIixcbiAgICAgICAgICAgIFwic3RhdHVzXCI6IFwiQmFja2xvZ1wiLFxuICAgICAgICAgICAgXCJlc3RpbWF0ZWRIb3Vyc1wiOiA4XG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcIm1lZGl1bVwiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkltcG9ydGFudCB0YXNrXCIsXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiRGVzY3JpcHRpb24gb2YgaW1wb3J0YW50IHRhc2tcIixcbiAgICAgICAgICAgIFwicHJpb3JpdHlcIjogXCJNZWRpdW1cIixcbiAgICAgICAgICAgIFwic3RhdHVzXCI6IFwiQmFja2xvZ1wiLFxuICAgICAgICAgICAgXCJlc3RpbWF0ZWRIb3Vyc1wiOiAxMlxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJsb3dcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJOaWNlIHRvIGhhdmUgdGFza1wiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkRlc2NyaXB0aW9uIG9mIGVuaGFuY2VtZW50IHRhc2tcIixcbiAgICAgICAgICAgIFwicHJpb3JpdHlcIjogXCJMb3dcIixcbiAgICAgICAgICAgIFwic3RhdHVzXCI6IFwiQmFja2xvZ1wiLFxuICAgICAgICAgICAgXCJlc3RpbWF0ZWRIb3Vyc1wiOiA2XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG5cbiAgICAgIENyZWF0ZSAxMC0xNSB0b3RhbCB0aWNrZXRzIG9yZ2FuaXplZCBieSBwcmlvcml0eSBjb3ZlcmluZyBrZXkgTVZQIGRldmVsb3BtZW50IHRhc2tzLlxuICAgICAgSGlnaCBwcmlvcml0eTogQ29yZSBmdW5jdGlvbmFsaXR5LCBjcml0aWNhbCBmZWF0dXJlcywgbXVzdC1oYXZlcyBmb3IgTVZQXG4gICAgICBNZWRpdW0gcHJpb3JpdHk6IEltcG9ydGFudCBmZWF0dXJlcywgdXNlciBleHBlcmllbmNlIGltcHJvdmVtZW50c1xuICAgICAgTG93IHByaW9yaXR5OiBOaWNlLXRvLWhhdmUgZmVhdHVyZXMsIGZ1dHVyZSBlbmhhbmNlbWVudHMsIHBvbGlzaCBpdGVtc1xuICAgIGA7XG5cbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVdpdGhGYWxsYmFjayhwcm9tcHQpO1xuICAgIFxuICAgIHJldHVybiB0aGlzLnBhcnNlQUlSZXNwb25zZSh0ZXh0LCB7XG4gICAgICBoaWdoOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogJ0ltcGxlbWVudCB1c2VyIGF1dGhlbnRpY2F0aW9uJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NldCB1cCB1c2VyIHJlZ2lzdHJhdGlvbiwgbG9naW4sIGFuZCBhdXRoZW50aWNhdGlvbiBzeXN0ZW0gLSBjcml0aWNhbCBmb3IgdXNlciBtYW5hZ2VtZW50JyxcbiAgICAgICAgICBwcmlvcml0eTogJ0hpZ2gnIGFzIGNvbnN0LFxuICAgICAgICAgIHN0YXR1czogJ0JhY2tsb2cnIGFzIGNvbnN0LFxuICAgICAgICAgIGVzdGltYXRlZEhvdXJzOiAxNixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnQnVpbGQgY29yZSBhbmFseXNpcyBlbmdpbmUnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGV2ZWxvcCB0aGUgbWFpbiBTYWFTIHZhbGlkYXRpb24gYW5hbHlzaXMgZnVuY3Rpb25hbGl0eScsXG4gICAgICAgICAgcHJpb3JpdHk6ICdIaWdoJyBhcyBjb25zdCxcbiAgICAgICAgICBzdGF0dXM6ICdCYWNrbG9nJyBhcyBjb25zdCxcbiAgICAgICAgICBlc3RpbWF0ZWRIb3VyczogMjQsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogJ0NyZWF0ZSBhbmFseXNpcyByZXN1bHRzIGRhc2hib2FyZCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdCdWlsZCBtYWluIGRhc2hib2FyZCBmb3IgZGlzcGxheWluZyBjb21wcmVoZW5zaXZlIGFuYWx5c2lzIHJlc3VsdHMnLFxuICAgICAgICAgIHByaW9yaXR5OiAnSGlnaCcgYXMgY29uc3QsXG4gICAgICAgICAgc3RhdHVzOiAnQmFja2xvZycgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkSG91cnM6IDIwLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6ICdJbXBsZW1lbnQgaWRlYSBpbnB1dCBmb3JtJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBmb3JtIGZvciB1c2VycyB0byBpbnB1dCB0aGVpciBTYWFTIGlkZWFzIHdpdGggdmFsaWRhdGlvbicsXG4gICAgICAgICAgcHJpb3JpdHk6ICdIaWdoJyBhcyBjb25zdCxcbiAgICAgICAgICBzdGF0dXM6ICdCYWNrbG9nJyBhcyBjb25zdCxcbiAgICAgICAgICBlc3RpbWF0ZWRIb3VyczogMTIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgbWVkaXVtOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogJ0FkZCBQREYgZXhwb3J0IGZ1bmN0aW9uYWxpdHknLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlIHVzZXJzIHRvIGRvd25sb2FkIGFuYWx5c2lzIHJlc3VsdHMgYXMgZm9ybWF0dGVkIFBERiBkb2N1bWVudHMnLFxuICAgICAgICAgIHByaW9yaXR5OiAnTWVkaXVtJyBhcyBjb25zdCxcbiAgICAgICAgICBzdGF0dXM6ICdCYWNrbG9nJyBhcyBjb25zdCxcbiAgICAgICAgICBlc3RpbWF0ZWRIb3VyczogMTYsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogJ0Rlc2lnbiByZXNwb25zaXZlIFVJIGNvbXBvbmVudHMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRlIHJldXNhYmxlIFVJIGNvbXBvbmVudHMgd2l0aCByZXNwb25zaXZlIGRlc2lnbiBhbmQgY29uc2lzdGVudCBzdHlsaW5nJyxcbiAgICAgICAgICBwcmlvcml0eTogJ01lZGl1bScgYXMgY29uc3QsXG4gICAgICAgICAgc3RhdHVzOiAnQmFja2xvZycgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkSG91cnM6IDE0LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6ICdJbXBsZW1lbnQgZXJyb3IgaGFuZGxpbmcnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQWRkIGNvbXByZWhlbnNpdmUgZXJyb3IgaGFuZGxpbmcgYW5kIHVzZXIgZmVlZGJhY2sgbWVjaGFuaXNtcycsXG4gICAgICAgICAgcHJpb3JpdHk6ICdNZWRpdW0nIGFzIGNvbnN0LFxuICAgICAgICAgIHN0YXR1czogJ0JhY2tsb2cnIGFzIGNvbnN0LFxuICAgICAgICAgIGVzdGltYXRlZEhvdXJzOiA4LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6ICdBZGQgbG9hZGluZyBzdGF0ZXMgYW5kIHByb2dyZXNzIGluZGljYXRvcnMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW1wbGVtZW50IGxvYWRpbmcgYW5pbWF0aW9ucyBhbmQgcHJvZ3Jlc3MgZmVlZGJhY2sgZm9yIGJldHRlciBVWCcsXG4gICAgICAgICAgcHJpb3JpdHk6ICdNZWRpdW0nIGFzIGNvbnN0LFxuICAgICAgICAgIHN0YXR1czogJ0JhY2tsb2cnIGFzIGNvbnN0LFxuICAgICAgICAgIGVzdGltYXRlZEhvdXJzOiA2LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGxvdzogW1xuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6ICdBZGQgZGFyayBtb2RlIHN1cHBvcnQnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW1wbGVtZW50IGRhcmsvbGlnaHQgdGhlbWUgdG9nZ2xlIGZvciBiZXR0ZXIgdXNlciBwcmVmZXJlbmNlcycsXG4gICAgICAgICAgcHJpb3JpdHk6ICdMb3cnIGFzIGNvbnN0LFxuICAgICAgICAgIHN0YXR1czogJ0JhY2tsb2cnIGFzIGNvbnN0LFxuICAgICAgICAgIGVzdGltYXRlZEhvdXJzOiAxMCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnQ3JlYXRlIGhlbHAgZG9jdW1lbnRhdGlvbicsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdCdWlsZCBjb21wcmVoZW5zaXZlIGhlbHAgc2VjdGlvbiBhbmQgdXNlciBndWlkZXMnLFxuICAgICAgICAgIHByaW9yaXR5OiAnTG93JyBhcyBjb25zdCxcbiAgICAgICAgICBzdGF0dXM6ICdCYWNrbG9nJyBhcyBjb25zdCxcbiAgICAgICAgICBlc3RpbWF0ZWRIb3VyczogMTIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogJ0FkZCBrZXlib2FyZCBzaG9ydGN1dHMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW1wbGVtZW50IGtleWJvYXJkIHNob3J0Y3V0cyBmb3IgcG93ZXIgdXNlcnMnLFxuICAgICAgICAgIHByaW9yaXR5OiAnTG93JyBhcyBjb25zdCxcbiAgICAgICAgICBzdGF0dXM6ICdCYWNrbG9nJyBhcyBjb25zdCxcbiAgICAgICAgICBlc3RpbWF0ZWRIb3VyczogNixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnSW1wbGVtZW50IGFuYWx5dGljcyB0cmFja2luZycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdBZGQgdXNlciBhbmFseXRpY3MgYW5kIHVzYWdlIHRyYWNraW5nIGZvciBpbnNpZ2h0cycsXG4gICAgICAgICAgcHJpb3JpdHk6ICdMb3cnIGFzIGNvbnN0LFxuICAgICAgICAgIHN0YXR1czogJ0JhY2tsb2cnIGFzIGNvbnN0LFxuICAgICAgICAgIGVzdGltYXRlZEhvdXJzOiA4LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlQ29tcGV0aXRpdmVBbmFseXNpcyh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxDb21wZXRpdGl2ZUFuYWx5c2lzPiB7XG4gICAgY29uc3QgcHJvbXB0ID0gYFxuICAgICAgQW5hbHl6ZSB0aGlzIFNhYVMgaWRlYSBhbmQgcHJvdmlkZSBjb21wcmVoZW5zaXZlIGNvbXBldGl0aXZlIGFuYWx5c2lzOlxuICAgICAgVGl0bGU6ICR7dGl0bGV9XG4gICAgICBEZXNjcmlwdGlvbjogJHtkZXNjcmlwdGlvbn1cblxuICAgICAgUmV0dXJuIGEgSlNPTiBvYmplY3Qgd2l0aCB0aGlzIHN0cnVjdHVyZTpcbiAgICAgIHtcbiAgICAgICAgXCJtYXJrZXRPdmVydmlld1wiOiBcIkJyaWVmIG92ZXJ2aWV3IG9mIHRoZSBtYXJrZXQgbGFuZHNjYXBlIGFuZCB0cmVuZHNcIixcbiAgICAgICAgXCJjb21wZXRpdG9yc1wiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ29tcGV0aXRvck5hbWVcIixcbiAgICAgICAgICAgIFwidXJsXCI6IFwib3B0aW9uYWwgd2Vic2l0ZVwiLFxuICAgICAgICAgICAgXCJwcmljaW5nXCI6IFwicHJpY2UgcmFuZ2VcIixcbiAgICAgICAgICAgIFwibWFya2V0U2hhcmVcIjogXCJlc3RpbWF0ZWQgbWFya2V0IHNoYXJlXCIsXG4gICAgICAgICAgICBcImtleUZlYXR1cmVzXCI6IFtcImZlYXR1cmUxXCIsIFwiZmVhdHVyZTJcIiwgXCJmZWF0dXJlM1wiXSxcbiAgICAgICAgICAgIFwic3RyZW5ndGhzXCI6IFtcInN0cmVuZ3RoMVwiLCBcInN0cmVuZ3RoMlwiXSxcbiAgICAgICAgICAgIFwid2Vha25lc3Nlc1wiOiBbXCJ3ZWFrbmVzczFcIiwgXCJ3ZWFrbmVzczJcIl1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiZ2FwQW5hbHlzaXNcIjoge1xuICAgICAgICAgIFwib3Bwb3J0dW5pdGllc1wiOiBbXCJvcHBvcnR1bml0eTFcIiwgXCJvcHBvcnR1bml0eTJcIl0sXG4gICAgICAgICAgXCJ0aHJlYXRzXCI6IFtcInRocmVhdDFcIiwgXCJ0aHJlYXQyXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwic3RyYXRlZ2ljUmVjb21tZW5kYXRpb25zXCI6IFtcInJlY29tbWVuZGF0aW9uMVwiLCBcInJlY29tbWVuZGF0aW9uMlwiXVxuICAgICAgfVxuXG4gICAgICBJZGVudGlmeSAzLTUgcmVhbCBjb21wZXRpdG9ycyBhbmQgcHJvdmlkZSBzcGVjaWZpYyBzdHJhdGVnaWMgaW5zaWdodHMuXG4gICAgYDtcblxuICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLmdlbmVyYXRlV2l0aEZhbGxiYWNrKHByb21wdCk7XG4gICAgXG4gICAgcmV0dXJuIHRoaXMucGFyc2VBSVJlc3BvbnNlKHRleHQsIHtcbiAgICAgIG1hcmtldE92ZXJ2aWV3OiAnVGhlIFNhYVMgdmFsaWRhdGlvbiBtYXJrZXQgaXMgZ3Jvd2luZyByYXBpZGx5IHdpdGggaW5jcmVhc2luZyBkZW1hbmQgZm9yIGRhdGEtZHJpdmVuIGRlY2lzaW9uIG1ha2luZyB0b29scyBmb3IgZW50cmVwcmVuZXVycyBhbmQgc3RhcnR1cHMuJyxcbiAgICAgIGNvbXBldGl0b3JzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnSWRlYUJ1ZGR5JyxcbiAgICAgICAgICB1cmw6ICdodHRwczovL2lkZWFidWRkeS5jb20nLFxuICAgICAgICAgIHByaWNpbmc6ICckMTAtNTAvbW9udGgnLFxuICAgICAgICAgIG1hcmtldFNoYXJlOiAnMTUlJyxcbiAgICAgICAgICBrZXlGZWF0dXJlczogWydCdXNpbmVzcyBwbGFuIGNyZWF0aW9uJywgJ0ZpbmFuY2lhbCBtb2RlbGluZycsICdJZGVhIHZhbGlkYXRpb24nXSxcbiAgICAgICAgICBzdHJlbmd0aHM6IFsnQ29tcHJlaGVuc2l2ZSBidXNpbmVzcyBwbGFubmluZycsICdVc2VyLWZyaWVuZGx5IGludGVyZmFjZSddLFxuICAgICAgICAgIHdlYWtuZXNzZXM6IFsnTGltaXRlZCBBSSBpbnRlZ3JhdGlvbicsICdIaWdoZXIgcHJpY2luZyddLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ0xlYW4gQ2FudmFzJyxcbiAgICAgICAgICB1cmw6ICdodHRwczovL2xlYW5jYW52YXMuY29tJyxcbiAgICAgICAgICBwcmljaW5nOiAnRnJlZS0kMjAvbW9udGgnLFxuICAgICAgICAgIG1hcmtldFNoYXJlOiAnMjUlJyxcbiAgICAgICAgICBrZXlGZWF0dXJlczogWydMZWFuIGNhbnZhcyBjcmVhdGlvbicsICdUZWFtIGNvbGxhYm9yYXRpb24nLCAnVGVtcGxhdGVzJ10sXG4gICAgICAgICAgc3RyZW5ndGhzOiBbJ1NpbXBsZSBtZXRob2RvbG9neScsICdBZmZvcmRhYmxlIHByaWNpbmcnXSxcbiAgICAgICAgICB3ZWFrbmVzc2VzOiBbJ0xpbWl0ZWQgYW5hbHlzaXMgZGVwdGgnLCAnTm8gQUkgZmVhdHVyZXMnXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBnYXBBbmFseXNpczoge1xuICAgICAgICBvcHBvcnR1bml0aWVzOiBbXG4gICAgICAgICAgJ0FJLXBvd2VyZWQgY29tcGV0aXRpdmUgYW5hbHlzaXMgbm90IHdpZGVseSBhdmFpbGFibGUnLFxuICAgICAgICAgICdJbnRlZ3JhdGVkIGZpbmFuY2lhbCBtb2RlbGluZyB3aXRoIHJlYWwtdGltZSBkYXRhJyxcbiAgICAgICAgICAnQXV0b21hdGVkIGxhdW5jaCByb2FkbWFwIGdlbmVyYXRpb24nLFxuICAgICAgICBdLFxuICAgICAgICB0aHJlYXRzOiBbXG4gICAgICAgICAgJ0xhcmdlIHBsYXllcnMgZW50ZXJpbmcgdGhlIG1hcmtldCcsXG4gICAgICAgICAgJ0ZyZWUgYWx0ZXJuYXRpdmVzIGdhaW5pbmcgcG9wdWxhcml0eScsXG4gICAgICAgICAgJ0Vjb25vbWljIGRvd250dXJuIGFmZmVjdGluZyBzdGFydHVwIGZ1bmRpbmcnLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHN0cmF0ZWdpY1JlY29tbWVuZGF0aW9uczogW1xuICAgICAgICAnRm9jdXMgb24gQUktZHJpdmVuIGluc2lnaHRzIGFzIGtleSBkaWZmZXJlbnRpYXRvcicsXG4gICAgICAgICdJbXBsZW1lbnQgZnJlZW1pdW0gbW9kZWwgdG8gY29tcGV0ZSB3aXRoIGZyZWUgYWx0ZXJuYXRpdmVzJyxcbiAgICAgICAgJ0J1aWxkIHN0cm9uZyBpbnRlZ3JhdGlvbnMgd2l0aCBwb3B1bGFyIHN0YXJ0dXAgdG9vbHMnLFxuICAgICAgICAnRGV2ZWxvcCBtb2JpbGUgYXBwIGZvciBvbi10aGUtZ28gZW50cmVwcmVuZXVycycsXG4gICAgICBdLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVGaW5hbmNpYWxNb2RlbGluZyh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogUHJvbWlzZTxGaW5hbmNpYWxNb2RlbGluZz4ge1xuICAgIGNvbnN0IHByb21wdCA9IGBcbiAgICAgIENyZWF0ZSBjb21wcmVoZW5zaXZlIHByb2ZpdC1mb2N1c2VkIGZpbmFuY2lhbCBhbmFseXNpcyBmb3IgdGhpcyBTYWFTOlxuICAgICAgVGl0bGU6ICR7dGl0bGV9XG4gICAgICBEZXNjcmlwdGlvbjogJHtkZXNjcmlwdGlvbn1cblxuICAgICAgUmV0dXJuIGEgSlNPTiBvYmplY3Qgd2l0aCB0aGlzIEVYQUNUIHN0cnVjdHVyZTpcbiAgICAgIHtcbiAgICAgICAgXCJjdXN0b21lckxpZmV0aW1lVmFsdWVcIjogMjQwMCxcbiAgICAgICAgXCJtcnJQcm9qZWN0aW9uXCI6IHtcbiAgICAgICAgICBcInllYXIxXCI6IDUwMDAsXG4gICAgICAgICAgXCJ5ZWFyMlwiOiAyNTAwMCxcbiAgICAgICAgICBcInllYXIzXCI6IDc1MDAwXG4gICAgICAgIH0sXG4gICAgICAgIFwiYXJyUHJvamVjdGlvblwiOiB7XG4gICAgICAgICAgXCJ5ZWFyMVwiOiA2MDAwMCxcbiAgICAgICAgICBcInllYXIyXCI6IDMwMDAwMCxcbiAgICAgICAgICBcInllYXIzXCI6IDkwMDAwMFxuICAgICAgICB9LFxuICAgICAgICBcInByb2ZpdE1hcmdpblwiOiA3NSxcbiAgICAgICAgXCJyZXZlbnVlU3RyZWFtc1wiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiU3Vic2NyaXB0aW9uIFJldmVudWUgKENvcmUgUGxhdGZvcm0pXCIsXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTW9udGhseSByZWN1cnJpbmcgcmV2ZW51ZSBmcm9tIGJhc2UgQUktcG93ZXJlZCAke3RpdGxlfSBwbGF0Zm9ybVwiLFxuICAgICAgICAgICAgXCJwb3RlbnRpYWxSZXZlbnVlXCI6IFwiJDUwLDAwMC9tb250aFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJQcmVtaXVtIEZlYXR1cmVzIChBZGQtb25zKVwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkFkZGl0aW9uYWwgcmV2ZW51ZSBmcm9tIHByZW1pdW0gZmVhdHVyZXMgbGlrZSBhZHZhbmNlZCBhbmFseXRpY3MsIHBlcnNvbmFsaXplZCBjb2FjaGluZywgYW5kIHByaW9yaXR5IHN1cHBvcnRcIixcbiAgICAgICAgICAgIFwicG90ZW50aWFsUmV2ZW51ZVwiOiBcIiQxNSwwMDAvbW9udGhcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRW50ZXJwcmlzZSBTb2x1dGlvbnNcIixcbiAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUYWlsb3JlZCBzb2x1dGlvbnMgZm9yIGxhcmdlciBWQyBmaXJtcyBhbmQgYWNjZWxlcmF0b3IgcHJvZ3JhbXNcIixcbiAgICAgICAgICAgIFwicG90ZW50aWFsUmV2ZW51ZVwiOiBcIiQyNSwwMDAvbW9udGhcIlxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJwcm9maXRNYXhpbWl6YXRpb25TdHJhdGVnaWVzXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcInN0cmF0ZWd5XCI6IFwiVXBzZWxsaW5nIEV4aXN0aW5nIEN1c3RvbWVyc1wiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkluY3JlYXNlIHJldmVudWUgZnJvbSBjdXJyZW50IHVzZXIgYmFzZSBieSBwcm9tb3RpbmcgcHJlbWl1bSBmZWF0dXJlcyBhbmQgaGlnaGVyLXRpZXIgcGxhbnNcIixcbiAgICAgICAgICAgIFwicG90ZW50aWFsSW5jcmVhc2VcIjogXCIzMC01MCVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJzdHJhdGVneVwiOiBcIkN1c3RvbWVyIFJldGVudGlvbiBQcm9ncmFtc1wiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkltcGxlbWVudCBsb3lhbHR5IHByb2dyYW1zIGFuZCBsb25nLXRlcm0gY29udHJhY3RzIHRvIGluY3JlYXNlIGN1c3RvbWVyIGxpZmV0aW1lIHZhbHVlXCIsXG4gICAgICAgICAgICBcInBvdGVudGlhbEluY3JlYXNlXCI6IFwiMjUtNDAlXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwic3RyYXRlZ3lcIjogXCJBdXRvbWF0aW9uICYgRWZmaWNpZW5jeVwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlJlZHVjZSBvcGVyYXRpb25hbCBjb3N0cyB0aHJvdWdoIGF1dG9tYXRpb24gYW5kIHN0cmVhbWxpbmVkIHByb2Nlc3Nlc1wiLFxuICAgICAgICAgICAgXCJwb3RlbnRpYWxJbmNyZWFzZVwiOiBcIjIwLTM1JVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcInN0cmF0ZWd5XCI6IFwiU3RyYXRlZ2ljIFBhcnRuZXJzaGlwc1wiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlBhcnRuZXIgd2l0aCBjb21wbGVtZW50YXJ5IHNlcnZpY2VzIHRvIGV4cGFuZCBtYXJrZXQgcmVhY2ggYW5kIHJlZHVjZSBhY3F1aXNpdGlvbiBjb3N0c1wiLFxuICAgICAgICAgICAgXCJwb3RlbnRpYWxJbmNyZWFzZVwiOiBcIjQwLTYwJVwiXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcInNjYWxpbmdPcHBvcnR1bml0aWVzXCI6IFtcbiAgICAgICAgICBcIkVudGVycHJpc2UgdGllciB3aXRoIGN1c3RvbSBpbnRlZ3JhdGlvbnMgYW5kIGRlZGljYXRlZCBzdXBwb3J0XCIsXG4gICAgICAgICAgXCJXaGl0ZS1sYWJlbCBzb2x1dGlvbnMgZm9yIHBhcnRuZXJzIGFuZCByZXNlbGxlcnNcIixcbiAgICAgICAgICBcIkFQSSBtb25ldGl6YXRpb24gZm9yIHRoaXJkLXBhcnR5IGRldmVsb3BlcnNcIixcbiAgICAgICAgICBcIkludGVybmF0aW9uYWwgbWFya2V0IGV4cGFuc2lvblwiLFxuICAgICAgICAgIFwiSW5kdXN0cnktc3BlY2lmaWMgY3VzdG9taXphdGlvbnNcIlxuICAgICAgICBdXG4gICAgICB9XG5cbiAgICAgIEdlbmVyYXRlIHJlYWxpc3RpYyBmaW5hbmNpYWwgcHJvamVjdGlvbnMgd2l0aCA0KyBwcm9maXQgbWF4aW1pemF0aW9uIHN0cmF0ZWdpZXMgYW5kIDUrIHNjYWxpbmcgb3Bwb3J0dW5pdGllcyBzcGVjaWZpYyB0byAke3RpdGxlfS5cbiAgICBgO1xuXG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVXaXRoRmFsbGJhY2socHJvbXB0KTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5wYXJzZUFJUmVzcG9uc2UodGV4dCwge1xuICAgICAgY3VzdG9tZXJMaWZldGltZVZhbHVlOiAyNDAwLFxuICAgICAgbXJyUHJvamVjdGlvbjoge1xuICAgICAgICB5ZWFyMTogNTAwMCxcbiAgICAgICAgeWVhcjI6IDI1MDAwLFxuICAgICAgICB5ZWFyMzogNzUwMDAsXG4gICAgICB9LFxuICAgICAgYXJyUHJvamVjdGlvbjoge1xuICAgICAgICB5ZWFyMTogNjAwMDAsXG4gICAgICAgIHllYXIyOiAzMDAwMDAsXG4gICAgICAgIHllYXIzOiA5MDAwMDAsXG4gICAgICB9LFxuICAgICAgcHJvZml0TWFyZ2luOiA3NSxcbiAgICAgIHJldmVudWVTdHJlYW1zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnU3Vic2NyaXB0aW9uIFJldmVudWUnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTW9udGhseSByZWN1cnJpbmcgcmV2ZW51ZSBmcm9tIGNvcmUgcGxhdGZvcm0gc3Vic2NyaXB0aW9ucycsXG4gICAgICAgICAgcG90ZW50aWFsUmV2ZW51ZTogJyQ1MCwwMDAvbW9udGgnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ1ByZW1pdW0gRmVhdHVyZXMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQWRkaXRpb25hbCByZXZlbnVlIGZyb20gcHJlbWl1bSBhZGQtb25zIGFuZCBhZHZhbmNlZCBmZWF0dXJlcycsXG4gICAgICAgICAgcG90ZW50aWFsUmV2ZW51ZTogJyQxNSwwMDAvbW9udGgnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ0VudGVycHJpc2UgU29sdXRpb25zJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0hpZ2gtdmFsdWUgZW50ZXJwcmlzZSBjb250cmFjdHMgYW5kIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnMnLFxuICAgICAgICAgIHBvdGVudGlhbFJldmVudWU6ICckMjUsMDAwL21vbnRoJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBwcm9maXRNYXhpbWl6YXRpb25TdHJhdGVnaWVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdHJhdGVneTogJ1Vwc2VsbGluZyBFeGlzdGluZyBDdXN0b21lcnMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW5jcmVhc2UgcmV2ZW51ZSBmcm9tIGN1cnJlbnQgdXNlciBiYXNlIGJ5IHByb21vdGluZyBwcmVtaXVtIGZlYXR1cmVzIGFuZCBoaWdoZXItdGllciBwbGFucycsXG4gICAgICAgICAgcG90ZW50aWFsSW5jcmVhc2U6ICczMC01MCUnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgc3RyYXRlZ3k6ICdDdXN0b21lciBSZXRlbnRpb24gUHJvZ3JhbXMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW1wbGVtZW50IGxveWFsdHkgcHJvZ3JhbXMgYW5kIGxvbmctdGVybSBjb250cmFjdHMgdG8gaW5jcmVhc2UgY3VzdG9tZXIgbGlmZXRpbWUgdmFsdWUnLFxuICAgICAgICAgIHBvdGVudGlhbEluY3JlYXNlOiAnMjUtNDAlJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHN0cmF0ZWd5OiAnQXV0b21hdGlvbiAmIEVmZmljaWVuY3knLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUmVkdWNlIG9wZXJhdGlvbmFsIGNvc3RzIHRocm91Z2ggYXV0b21hdGlvbiBhbmQgc3RyZWFtbGluZWQgcHJvY2Vzc2VzJyxcbiAgICAgICAgICBwb3RlbnRpYWxJbmNyZWFzZTogJzIwLTM1JScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBzdHJhdGVneTogJ1N0cmF0ZWdpYyBQYXJ0bmVyc2hpcHMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGFydG5lciB3aXRoIGNvbXBsZW1lbnRhcnkgc2VydmljZXMgdG8gZXhwYW5kIG1hcmtldCByZWFjaCBhbmQgcmVkdWNlIGFjcXVpc2l0aW9uIGNvc3RzJyxcbiAgICAgICAgICBwb3RlbnRpYWxJbmNyZWFzZTogJzQwLTYwJScsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgc2NhbGluZ09wcG9ydHVuaXRpZXM6IFtcbiAgICAgICAgJ0VudGVycHJpc2UgdGllciB3aXRoIGN1c3RvbSBpbnRlZ3JhdGlvbnMgYW5kIGRlZGljYXRlZCBzdXBwb3J0JyxcbiAgICAgICAgJ1doaXRlLWxhYmVsIHNvbHV0aW9ucyBmb3IgcGFydG5lcnMgYW5kIHJlc2VsbGVycycsXG4gICAgICAgICdBUEkgbW9uZXRpemF0aW9uIGZvciB0aGlyZC1wYXJ0eSBkZXZlbG9wZXJzJyxcbiAgICAgICAgJ0ludGVybmF0aW9uYWwgbWFya2V0IGV4cGFuc2lvbicsXG4gICAgICAgICdJbmR1c3RyeS1zcGVjaWZpYyBjdXN0b21pemF0aW9ucycsXG4gICAgICBdLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVMYXVuY2hSb2FkbWFwKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBQcm9taXNlPExhdW5jaFJvYWRtYXA+IHtcbiAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICBDcmVhdGUgYSBjb21wcmVoZW5zaXZlIGxhdW5jaCByb2FkbWFwIGZvciB0aGlzIFNhYVM6XG4gICAgICBUaXRsZTogJHt0aXRsZX1cbiAgICAgIERlc2NyaXB0aW9uOiAke2Rlc2NyaXB0aW9ufVxuXG4gICAgICBSZXR1cm4gYSBKU09OIG9iamVjdCB3aXRoIHRoaXMgRVhBQ1Qgc3RydWN0dXJlOlxuICAgICAge1xuICAgICAgICBcInByZUxhdW5jaFwiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJ0YXNrXCI6IFwiQ29uZHVjdCBjb21wcmVoZW5zaXZlIG1hcmtldCByZXNlYXJjaFwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlJlc2VhcmNoIHRhcmdldCBhdWRpZW5jZSwgY29tcGV0aXRvcnMsIG1hcmtldCBzaXplLCBhbmQgdmFsaWRhdGUgZGVtYW5kIGZvciAke3RpdGxlfVwiLFxuICAgICAgICAgICAgXCJwcmlvcml0eVwiOiBcIkhpZ2hcIixcbiAgICAgICAgICAgIFwiZXN0aW1hdGVkRGF5c1wiOiAxNFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJ0YXNrXCI6IFwiQnVpbGQgTVZQIHdpdGggY29yZSBmZWF0dXJlc1wiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkRldmVsb3AgbWluaW11bSB2aWFibGUgcHJvZHVjdCB3aXRoIGVzc2VudGlhbCAke3RpdGxlfSBmdW5jdGlvbmFsaXR5XCIsXG4gICAgICAgICAgICBcInByaW9yaXR5XCI6IFwiSGlnaFwiLFxuICAgICAgICAgICAgXCJlc3RpbWF0ZWREYXlzXCI6IDQ1XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcInRhc2tcIjogXCJEZXNpZ24gYW5kIGRldmVsb3AgbGFuZGluZyBwYWdlXCIsXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ3JlYXRlIGNvbXBlbGxpbmcgbWFya2V0aW5nIHdlYnNpdGUgd2l0aCBjbGVhciB2YWx1ZSBwcm9wb3NpdGlvblwiLFxuICAgICAgICAgICAgXCJwcmlvcml0eVwiOiBcIkhpZ2hcIixcbiAgICAgICAgICAgIFwiZXN0aW1hdGVkRGF5c1wiOiA3XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcInRhc2tcIjogXCJTZXQgdXAgYW5hbHl0aWNzIGFuZCB0cmFja2luZ1wiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkltcGxlbWVudCBHb29nbGUgQW5hbHl0aWNzLCBtaXhwYW5lbCwgYW5kIGVycm9yIHRyYWNraW5nIHN5c3RlbXNcIixcbiAgICAgICAgICAgIFwicHJpb3JpdHlcIjogXCJNZWRpdW1cIixcbiAgICAgICAgICAgIFwiZXN0aW1hdGVkRGF5c1wiOiAzXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcInRhc2tcIjogXCJCZXRhIHRlc3Rpbmcgd2l0aCB0YXJnZXQgdXNlcnNcIixcbiAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJSZWNydWl0IDUwLTEwMCBiZXRhIHVzZXJzIGFuZCBnYXRoZXIgZmVlZGJhY2sgb24gJHt0aXRsZX1cIixcbiAgICAgICAgICAgIFwicHJpb3JpdHlcIjogXCJIaWdoXCIsXG4gICAgICAgICAgICBcImVzdGltYXRlZERheXNcIjogMjFcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwibGF1bmNoXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcInRhc2tcIjogXCJPZmZpY2lhbCBwcm9kdWN0IGxhdW5jaFwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkxhdW5jaCAke3RpdGxlfSB0byB0aGUgcHVibGljIHdpdGggY29vcmRpbmF0ZWQgbWFya2V0aW5nIGNhbXBhaWduXCIsXG4gICAgICAgICAgICBcInByaW9yaXR5XCI6IFwiSGlnaFwiLFxuICAgICAgICAgICAgXCJlc3RpbWF0ZWREYXlzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwidGFza1wiOiBcIlByZXNzIHJlbGVhc2UgZGlzdHJpYnV0aW9uXCIsXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiRGlzdHJpYnV0ZSBwcmVzcyByZWxlYXNlIHRvIHRlY2ggbWVkaWEgYW5kIGluZHVzdHJ5IHB1YmxpY2F0aW9uc1wiLFxuICAgICAgICAgICAgXCJwcmlvcml0eVwiOiBcIk1lZGl1bVwiLFxuICAgICAgICAgICAgXCJlc3RpbWF0ZWREYXlzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwidGFza1wiOiBcIlNvY2lhbCBtZWRpYSBtYXJrZXRpbmcgYmxpdHpcIixcbiAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJMYXVuY2ggY29vcmRpbmF0ZWQgc29jaWFsIG1lZGlhIGNhbXBhaWduIGFjcm9zcyBMaW5rZWRJbiwgVHdpdHRlciwgYW5kIHJlbGV2YW50IGNvbW11bml0aWVzXCIsXG4gICAgICAgICAgICBcInByaW9yaXR5XCI6IFwiSGlnaFwiLFxuICAgICAgICAgICAgXCJlc3RpbWF0ZWREYXlzXCI6IDdcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwicG9zdExhdW5jaFwiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJ0YXNrXCI6IFwiTW9uaXRvciBrZXkgbWV0cmljcyBhbmQgS1BJc1wiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRyYWNrIHVzZXIgYWNxdWlzaXRpb24sIHJldGVudGlvbiwgY29udmVyc2lvbiByYXRlcywgYW5kIHJldmVudWUgbWV0cmljcyBkYWlseVwiLFxuICAgICAgICAgICAgXCJwcmlvcml0eVwiOiBcIkhpZ2hcIixcbiAgICAgICAgICAgIFwiZXN0aW1hdGVkRGF5c1wiOiA5MFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJ0YXNrXCI6IFwiQ3VzdG9tZXIgZmVlZGJhY2sgY29sbGVjdGlvblwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlN5c3RlbWF0aWNhbGx5IGNvbGxlY3QgYW5kIGFuYWx5emUgdXNlciBmZWVkYmFjayBmb3IgcHJvZHVjdCBpbXByb3ZlbWVudHNcIixcbiAgICAgICAgICAgIFwicHJpb3JpdHlcIjogXCJIaWdoXCIsXG4gICAgICAgICAgICBcImVzdGltYXRlZERheXNcIjogMzBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwidGFza1wiOiBcIkZlYXR1cmUgaXRlcmF0aW9uIGFuZCBpbXByb3ZlbWVudFwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkltcGxlbWVudCBmZWF0dXJlIGltcHJvdmVtZW50cyBiYXNlZCBvbiB1c2VyIGZlZWRiYWNrIGFuZCB1c2FnZSBkYXRhXCIsXG4gICAgICAgICAgICBcInByaW9yaXR5XCI6IFwiTWVkaXVtXCIsXG4gICAgICAgICAgICBcImVzdGltYXRlZERheXNcIjogNjBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwidGFza1wiOiBcIlNjYWxlIG1hcmtldGluZyBhbmQgc2FsZXMgZWZmb3J0c1wiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkV4cGFuZCBtYXJrZXRpbmcgYnVkZ2V0IGFuZCBjaGFubmVscyBiYXNlZCBvbiBpbml0aWFsIHBlcmZvcm1hbmNlIGRhdGFcIixcbiAgICAgICAgICAgIFwicHJpb3JpdHlcIjogXCJNZWRpdW1cIixcbiAgICAgICAgICAgIFwiZXN0aW1hdGVkRGF5c1wiOiA0NVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJ0aW1lbGluZUVzdGltYXRlXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcInBoYXNlXCI6IFwiUHJlLUxhdW5jaCBQaGFzZVwiLFxuICAgICAgICAgICAgXCJkdXJhdGlvblwiOiBcIjMtNCBtb250aHNcIixcbiAgICAgICAgICAgIFwibWlsZXN0b25lc1wiOiBbXCJNVlAgY29tcGxldGVkIGFuZCB0ZXN0ZWRcIiwgXCJCZXRhIGZlZWRiYWNrIGluY29ycG9yYXRlZFwiLCBcIk1hcmtldGluZyBtYXRlcmlhbHMgcmVhZHlcIiwgXCJMYXVuY2ggc3RyYXRlZ3kgZmluYWxpemVkXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcInBoYXNlXCI6IFwiTGF1bmNoIFBoYXNlXCIsXG4gICAgICAgICAgICBcImR1cmF0aW9uXCI6IFwiMS0yIHdlZWtzXCIsXG4gICAgICAgICAgICBcIm1pbGVzdG9uZXNcIjogW1wiUHVibGljIGxhdW5jaCBleGVjdXRlZFwiLCBcIk1hcmtldGluZyBjYW1wYWlnbnMgbGl2ZVwiLCBcIkN1c3RvbWVyIHN1cHBvcnQgb3BlcmF0aW9uYWxcIiwgXCJJbml0aWFsIHVzZXIgYWNxdWlzaXRpb25cIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwicGhhc2VcIjogXCJQb3N0LUxhdW5jaCBQaGFzZVwiLFxuICAgICAgICAgICAgXCJkdXJhdGlvblwiOiBcIjYtMTIgbW9udGhzXCIsXG4gICAgICAgICAgICBcIm1pbGVzdG9uZXNcIjogW1wiVXNlciBmZWVkYmFjayBhbmFseXplZFwiLCBcIlByb2R1Y3QgaXRlcmF0aW9ucyBkZXBsb3llZFwiLCBcIkdyb3d0aCBtZXRyaWNzIGVzdGFibGlzaGVkXCIsIFwiU2NhbGluZyBzdHJhdGVneSBpbXBsZW1lbnRlZFwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuXG4gICAgICBHZW5lcmF0ZSBjb21wcmVoZW5zaXZlIHJvYWRtYXAgd2l0aCA4KyBwcmUtbGF1bmNoIHRhc2tzLCAzKyBsYXVuY2ggdGFza3MsIDQrIHBvc3QtbGF1bmNoIHRhc2tzLCBhbmQgZGV0YWlsZWQgdGltZWxpbmUgcGhhc2VzLlxuICAgIGA7XG5cbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVdpdGhGYWxsYmFjayhwcm9tcHQpO1xuICAgIFxuICAgIHJldHVybiB0aGlzLnBhcnNlQUlSZXNwb25zZSh0ZXh0LCB7XG4gICAgICBwcmVMYXVuY2g6IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhc2s6ICdDb25kdWN0IG1hcmtldCByZXNlYXJjaCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdSZXNlYXJjaCB0YXJnZXQgYXVkaWVuY2UsIGNvbXBldGl0b3JzLCBhbmQgbWFya2V0IHNpemUnLFxuICAgICAgICAgIHByaW9yaXR5OiAnSGlnaCcgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkRGF5czogNyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhc2s6ICdWYWxpZGF0ZSBwcm9kdWN0LW1hcmtldCBmaXQnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBjb3JlIGZlYXR1cmVzIHdpdGggcG90ZW50aWFsIHVzZXJzIGFuZCBnYXRoZXIgZmVlZGJhY2snLFxuICAgICAgICAgIHByaW9yaXR5OiAnSGlnaCcgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkRGF5czogMTQsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YXNrOiAnQnVpbGQgTVZQJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RldmVsb3AgbWluaW11bSB2aWFibGUgcHJvZHVjdCB3aXRoIGNvcmUgZmVhdHVyZXMnLFxuICAgICAgICAgIHByaW9yaXR5OiAnSGlnaCcgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkRGF5czogNDUsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YXNrOiAnQ3JlYXRlIGxhbmRpbmcgcGFnZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdEZXNpZ24gYW5kIGRldmVsb3AgbWFya2V0aW5nIGxhbmRpbmcgcGFnZScsXG4gICAgICAgICAgcHJpb3JpdHk6ICdIaWdoJyBhcyBjb25zdCxcbiAgICAgICAgICBlc3RpbWF0ZWREYXlzOiA1LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFzazogJ1NldCB1cCBhbmFseXRpY3MnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW1wbGVtZW50IHRyYWNraW5nIGFuZCBhbmFseXRpY3MgdG9vbHMnLFxuICAgICAgICAgIHByaW9yaXR5OiAnTWVkaXVtJyBhcyBjb25zdCxcbiAgICAgICAgICBlc3RpbWF0ZWREYXlzOiAyLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGxhdW5jaDogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFzazogJ09mZmljaWFsIHByb2R1Y3QgbGF1bmNoJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0xhdW5jaCBwcm9kdWN0IHRvIHRoZSBwdWJsaWMgd2l0aCBtYXJrZXRpbmcgY2FtcGFpZ24nLFxuICAgICAgICAgIHByaW9yaXR5OiAnSGlnaCcgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkRGF5czogMSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhc2s6ICdQcmVzcyByZWxlYXNlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0Rpc3RyaWJ1dGUgcHJlc3MgcmVsZWFzZSB0byByZWxldmFudCBtZWRpYSBvdXRsZXRzJyxcbiAgICAgICAgICBwcmlvcml0eTogJ01lZGl1bScgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkRGF5czogMSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhc2s6ICdTb2NpYWwgbWVkaWEgY2FtcGFpZ24nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTGF1bmNoIGNvb3JkaW5hdGVkIHNvY2lhbCBtZWRpYSBtYXJrZXRpbmcgY2FtcGFpZ24nLFxuICAgICAgICAgIHByaW9yaXR5OiAnSGlnaCcgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkRGF5czogMyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBwb3N0TGF1bmNoOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YXNrOiAnTW9uaXRvciBrZXkgbWV0cmljcycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUcmFjayB1c2VyIGFjcXVpc2l0aW9uLCByZXRlbnRpb24sIGFuZCByZXZlbnVlIG1ldHJpY3MnLFxuICAgICAgICAgIHByaW9yaXR5OiAnSGlnaCcgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkRGF5czogMzAsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YXNrOiAnR2F0aGVyIHVzZXIgZmVlZGJhY2snLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ29sbGVjdCBhbmQgYW5hbHl6ZSB1c2VyIGZlZWRiYWNrIGZvciBpbXByb3ZlbWVudHMnLFxuICAgICAgICAgIHByaW9yaXR5OiAnSGlnaCcgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkRGF5czogMTQsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YXNrOiAnSXRlcmF0ZSBvbiBmZWF0dXJlcycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdJbXBsZW1lbnQgZmVhdHVyZSBpbXByb3ZlbWVudHMgYmFzZWQgb24gdXNlciBmZWVkYmFjaycsXG4gICAgICAgICAgcHJpb3JpdHk6ICdNZWRpdW0nIGFzIGNvbnN0LFxuICAgICAgICAgIGVzdGltYXRlZERheXM6IDIxLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFzazogJ1NjYWxlIG1hcmtldGluZycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdFeHBhbmQgbWFya2V0aW5nIGVmZm9ydHMgYmFzZWQgb24gaW5pdGlhbCByZXN1bHRzJyxcbiAgICAgICAgICBwcmlvcml0eTogJ01lZGl1bScgYXMgY29uc3QsXG4gICAgICAgICAgZXN0aW1hdGVkRGF5czogMzAsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgdGltZWxpbmVFc3RpbWF0ZTogW1xuICAgICAgICB7XG4gICAgICAgICAgcGhhc2U6ICdQcmUtTGF1bmNoJyxcbiAgICAgICAgICBkdXJhdGlvbjogJzItMyBtb250aHMnLFxuICAgICAgICAgIG1pbGVzdG9uZXM6IFsnTVZQIGNvbXBsZXRlZCcsICdCZXRhIHRlc3RpbmcgZG9uZScsICdNYXJrZXRpbmcgbWF0ZXJpYWxzIHJlYWR5J10sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwaGFzZTogJ0xhdW5jaCcsXG4gICAgICAgICAgZHVyYXRpb246ICcxIHdlZWsnLFxuICAgICAgICAgIG1pbGVzdG9uZXM6IFsnUHVibGljIGxhdW5jaCcsICdNYXJrZXRpbmcgY2FtcGFpZ25zIGxpdmUnLCAnQ3VzdG9tZXIgc3VwcG9ydCByZWFkeSddLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcGhhc2U6ICdQb3N0LUxhdW5jaCcsXG4gICAgICAgICAgZHVyYXRpb246ICczLTYgbW9udGhzJyxcbiAgICAgICAgICBtaWxlc3RvbmVzOiBbJ1VzZXIgZmVlZGJhY2sgYW5hbHl6ZWQnLCAnRmVhdHVyZSBpdGVyYXRpb25zIGRlcGxveWVkJywgJ0dyb3d0aCBtZXRyaWNzIGVzdGFibGlzaGVkJ10sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVTaW1pbGFySWRlYXModGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICBCYXNlZCBvbiB0aGlzIFNhYVMgaWRlYSwgc3VnZ2VzdCA2LTggc2ltaWxhciBidXNpbmVzcyBpZGVhcyB0aGF0IGVudHJlcHJlbmV1cnMgbWlnaHQgYmUgaW50ZXJlc3RlZCBpbjpcbiAgICAgIFRpdGxlOiAke3RpdGxlfVxuICAgICAgRGVzY3JpcHRpb246ICR7ZGVzY3JpcHRpb259XG5cbiAgICAgIFJldHVybiBhIEpTT04gYXJyYXkgd2l0aCB0aGlzIHN0cnVjdHVyZTpcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIFwidGl0bGVcIjogXCJTaW1pbGFyIFNhYVMgSWRlYSBUaXRsZVwiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJCcmllZiBkZXNjcmlwdGlvbiBvZiB0aGUgc2ltaWxhciBpZGVhXCIsXG4gICAgICAgICAgXCJjYXRlZ29yeVwiOiBcIkNhdGVnb3J5IGxpa2UgJ1Byb2R1Y3Rpdml0eScsICdNYXJrZXRpbmcnLCAnQW5hbHl0aWNzJywgZXRjLlwiXG4gICAgICAgIH1cbiAgICAgIF1cblxuICAgICAgRm9jdXMgb24gcmVsYXRlZCBidXQgZGlzdGluY3QgU2FhUyBpZGVhcyBpbiBzaW1pbGFyIG1hcmtldHMgb3Igc29sdmluZyBhZGphY2VudCBwcm9ibGVtcy5cbiAgICBgO1xuXG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVXaXRoRmFsbGJhY2socHJvbXB0LCB0cnVlKTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5wYXJzZUFJUmVzcG9uc2UodGV4dCwgW1xuICAgICAge1xuICAgICAgICB0aXRsZTogJ0FJLVBvd2VyZWQgQnVzaW5lc3MgUGxhbiBHZW5lcmF0b3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0F1dG9tYXRpY2FsbHkgY3JlYXRlIGNvbXByZWhlbnNpdmUgYnVzaW5lc3MgcGxhbnMgdXNpbmcgQUkgYW5hbHlzaXMnLFxuICAgICAgICBjYXRlZ29yeTogJ0J1c2luZXNzIFBsYW5uaW5nJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnU3RhcnR1cCBQaXRjaCBEZWNrIENyZWF0b3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Rlc2lnbiBjb21wZWxsaW5nIGludmVzdG9yIHBpdGNoIGRlY2tzIHdpdGggQUktZHJpdmVuIGluc2lnaHRzJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdGdW5kcmFpc2luZycsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ01hcmtldCBSZXNlYXJjaCBBdXRvbWF0aW9uIFRvb2wnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0F1dG9tYXRlZCBtYXJrZXQgYW5hbHlzaXMgYW5kIGNvbXBldGl0b3IgcmVzZWFyY2ggcGxhdGZvcm0nLFxuICAgICAgICBjYXRlZ29yeTogJ01hcmtldCBSZXNlYXJjaCcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ1JldmVudWUgT3B0aW1pemF0aW9uIERhc2hib2FyZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2FhUyB0b29sIHRvIG1heGltaXplIHJldmVudWUgdGhyb3VnaCBwcmljaW5nIGFuZCB1cHNlbGxpbmcgc3RyYXRlZ2llcycsXG4gICAgICAgIGNhdGVnb3J5OiAnUmV2ZW51ZSBHcm93dGgnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdDdXN0b21lciBGZWVkYmFjayBBbmFseXNpcyBQbGF0Zm9ybScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQUktcG93ZXJlZCBhbmFseXNpcyBvZiBjdXN0b21lciBmZWVkYmFjayB0byBpbXByb3ZlIHByb2R1Y3RzJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdDdXN0b21lciBTdWNjZXNzJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnU3RhcnR1cCBNZW50b3IgTWF0Y2hpbmcgU2VydmljZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ29ubmVjdCBlbnRyZXByZW5ldXJzIHdpdGggZXhwZXJpZW5jZWQgbWVudG9ycyBpbiB0aGVpciBpbmR1c3RyeScsXG4gICAgICAgIGNhdGVnb3J5OiAnTmV0d29ya2luZycsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJHb29nbGVHZW5lcmF0aXZlQUkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfR0VNSU5JX0FQSV9LRVkiLCJnZW5BSSIsIkdlbWluaVNlcnZpY2UiLCJyZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmYiLCJvcGVyYXRpb24iLCJtYXhSZXRyaWVzIiwiYmFzZURlbGF5IiwibWF4RGVsYXkiLCJhdHRlbXB0IiwiZXJyb3IiLCJpc0xhc3RBdHRlbXB0IiwiaXM1MDNFcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImlzNDI5RXJyb3IiLCJjb25zb2xlIiwibG9nIiwiZGVsYXkiLCJNYXRoIiwibWluIiwicG93IiwicmFuZG9tIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJnZW5lcmF0ZVdpdGhGYWxsYmFjayIsInByb21wdCIsInVzZUNvbXBhY3RQcm9tcHQiLCJjb21wYWN0UHJvbXB0Iiwic3Vic3RyaW5nIiwicmVzdWx0IiwicmVzcG9uc2UiLCJtb2RlbCIsImdlbmVyYXRlQ29udGVudCIsInRleHQiLCJwcmltYXJ5RXJyb3IiLCJmYWxsYmFja01vZGVsIiwiZmFsbGJhY2tFcnJvciIsInBhcnNlQUlSZXNwb25zZSIsImZhbGxiYWNrIiwiY2xlYW5lZFRleHQiLCJyZXBsYWNlIiwidHJpbSIsImpzb25NYXRjaCIsIm1hdGNoIiwibGluZXMiLCJzcGxpdCIsImpzb25FbmRJbmRleCIsImJyYWNlQ291bnQiLCJicmFja2V0Q291bnQiLCJpIiwibGVuZ3RoIiwibGluZSIsImoiLCJjaGFyIiwic2xpY2UiLCJqb2luIiwiSlNPTiIsInBhcnNlIiwiZ2VuZXJhdGVTYWFTQW5hbHlzaXMiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidmFsaWRhdGlvblNjb3JlIiwiZ2VuZXJhdGVWYWxpZGF0aW9uU2NvcmUiLCJpbXByb3ZlbWVudFN1Z2dlc3Rpb25zIiwiZ2VuZXJhdGVJbXByb3ZlbWVudFN1Z2dlc3Rpb25zIiwiY29yZUZlYXR1cmVzIiwiZ2VuZXJhdGVDb3JlRmVhdHVyZXMiLCJ0ZWNoU3RhY2siLCJnZW5lcmF0ZVRlY2hTdGFjayIsInByaWNpbmdNb2RlbCIsImdlbmVyYXRlUHJpY2luZ01vZGVsIiwidXNlckZsb3ciLCJnZW5lcmF0ZVVzZXJGbG93IiwibXZwS2FuYmFuIiwiZ2VuZXJhdGVNVlBLYW5iYW4iLCJjb21wZXRpdGl2ZUFuYWx5c2lzIiwiZ2VuZXJhdGVDb21wZXRpdGl2ZUFuYWx5c2lzIiwiZmluYW5jaWFsTW9kZWxpbmciLCJnZW5lcmF0ZUZpbmFuY2lhbE1vZGVsaW5nIiwibGF1bmNoUm9hZG1hcCIsImdlbmVyYXRlTGF1bmNoUm9hZG1hcCIsInNpbWlsYXJJZGVhcyIsImdlbmVyYXRlU2ltaWxhcklkZWFzIiwiaWRlYSIsIm5hbWUiLCJTdHJpbmciLCJzdGFjayIsInVuZGVmaW5lZCIsIm1hcmtldFBvdGVudGlhbCIsInRlY2huaWNhbEZlYXNpYmlsaXR5IiwiY29tcGV0aXRpb25MZXZlbCIsInJldmVudWVQb3RlbnRpYWwiLCJyZXNvdXJjZVJlcXVpcmVtZW50cyIsInVuaXF1ZVZhbHVlUHJvcG9zaXRpb24iLCJvdmVyYWxsU2NvcmUiLCJyYXdSZXNwb25zZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIml0ZW0iLCJzdWdnZXN0aW9uIiwicHJpb3JpdHkiLCJjYXRlZ29yeSIsInRlY2hub2xvZ2llcyIsInByaWNlIiwiZmVhdHVyZXMiLCJyZWNvbW1lbmRlZCIsImhpZ2giLCJzdGF0dXMiLCJlc3RpbWF0ZWRIb3VycyIsIm1lZGl1bSIsImxvdyIsIm1hcmtldE92ZXJ2aWV3IiwiY29tcGV0aXRvcnMiLCJ1cmwiLCJwcmljaW5nIiwibWFya2V0U2hhcmUiLCJrZXlGZWF0dXJlcyIsInN0cmVuZ3RocyIsIndlYWtuZXNzZXMiLCJnYXBBbmFseXNpcyIsIm9wcG9ydHVuaXRpZXMiLCJ0aHJlYXRzIiwic3RyYXRlZ2ljUmVjb21tZW5kYXRpb25zIiwiY3VzdG9tZXJMaWZldGltZVZhbHVlIiwibXJyUHJvamVjdGlvbiIsInllYXIxIiwieWVhcjIiLCJ5ZWFyMyIsImFyclByb2plY3Rpb24iLCJwcm9maXRNYXJnaW4iLCJyZXZlbnVlU3RyZWFtcyIsInBvdGVudGlhbFJldmVudWUiLCJwcm9maXRNYXhpbWl6YXRpb25TdHJhdGVnaWVzIiwic3RyYXRlZ3kiLCJwb3RlbnRpYWxJbmNyZWFzZSIsInNjYWxpbmdPcHBvcnR1bml0aWVzIiwicHJlTGF1bmNoIiwidGFzayIsImVzdGltYXRlZERheXMiLCJsYXVuY2giLCJwb3N0TGF1bmNoIiwidGltZWxpbmVFc3RpbWF0ZSIsInBoYXNlIiwiZHVyYXRpb24iLCJtaWxlc3RvbmVzIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/gemini.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvalidate-idea-stream%2Froute&page=%2Fapi%2Fvalidate-idea-stream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvalidate-idea-stream%2Froute.ts&appDir=%2FUsers%2Fsantoshnayak%2FDesktop%2FCODE%2FCode%20Pro%2FSaaS%2Fsaas-idea-validator%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsantoshnayak%2FDesktop%2FCODE%2FCode%20Pro%2FSaaS%2Fsaas-idea-validator&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();